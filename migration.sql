CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);

START TRANSACTION;

CREATE TABLE "AspNetRoles" (
    "Id" uuid NOT NULL,
    "Description" character varying(1000),
    "IsDeleted" boolean NOT NULL,
    "CreationDate" timestamp with time zone,
    "ModificationDate" timestamp with time zone,
    "DeletionDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationById" uuid,
    "DeleteById" uuid,
    "Name" character varying(256) NOT NULL,
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);

CREATE TABLE "ConsultantRoles" (
    "Id" uuid NOT NULL,
    "RoleName" character varying(100) NOT NULL,
    "Description" text,
    CONSTRAINT "PK_ConsultantRoles" PRIMARY KEY ("Id")
);

CREATE TABLE "OrderStatuses" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Status" text NOT NULL,
    "Description" text NOT NULL,
    CONSTRAINT "PK_OrderStatuses" PRIMARY KEY ("Id")
);

CREATE TABLE "OTPData" (
    "Id" uuid NOT NULL,
    "Code" character varying(10) NOT NULL,
    "VerificationToId" uuid NOT NULL,
    "ExpirationTime" timestamp with time zone NOT NULL,
    "Type" text NOT NULL,
    "IsUsed" boolean NOT NULL,
    "IsDeleted" boolean NOT NULL,
    "UserId" uuid,
    CONSTRAINT "PK_OTPData" PRIMARY KEY ("Id")
);

CREATE TABLE "PaymentMethods" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "IconPath" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "Order" integer NOT NULL,
    "AdditionalInfo" text,
    CONSTRAINT "PK_PaymentMethods" PRIMARY KEY ("Id")
);

CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Name" text NOT NULL,
    "Description" text,
    "VideoPath" text,
    "ProductType" text NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);

CREATE TABLE "Promotions" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "StartDate" timestamp with time zone NOT NULL,
    "EndDate" timestamp with time zone NOT NULL,
    "Discount" numeric NOT NULL,
    "DiscountType" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "MinimumQuantity" integer NOT NULL,
    "MaximumQuantity" integer NOT NULL,
    "MinimumPrice" numeric NOT NULL,
    "MaximumPrice" numeric NOT NULL,
    CONSTRAINT "PK_Promotions" PRIMARY KEY ("Id")
);

CREATE TABLE "StoreAddresses" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "StreetAddress" text NOT NULL,
    "WardCode" text NOT NULL,
    "DistrictId" integer NOT NULL,
    "WardName" text NOT NULL,
    "DistrictName" text NOT NULL,
    "ProvinceName" text NOT NULL,
    CONSTRAINT "PK_StoreAddresses" PRIMARY KEY ("Id")
);

CREATE TABLE "AdministratorRoles" (
    "Id" uuid NOT NULL,
    CONSTRAINT "PK_AdministratorRoles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AdministratorRoles_AspNetRoles_Id" FOREIGN KEY ("Id") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);

CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);

CREATE TABLE "CustomerRoles" (
    "Id" uuid NOT NULL,
    CONSTRAINT "PK_CustomerRoles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CustomerRoles_AspNetRoles_Id" FOREIGN KEY ("Id") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);

CREATE TABLE "StoreRoles" (
    "Id" uuid NOT NULL,
    CONSTRAINT "PK_StoreRoles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StoreRoles_AspNetRoles_Id" FOREIGN KEY ("Id") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);

CREATE TABLE "PaymentMethodHistories" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "IconPath" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "AdditionalInfo" text,
    "PaymentMethodId" uuid NOT NULL,
    CONSTRAINT "PK_PaymentMethodHistories" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PaymentMethodHistories_PaymentMethods_PaymentMethodId" FOREIGN KEY ("PaymentMethodId") REFERENCES "PaymentMethods" ("Id") ON DELETE CASCADE
);

CREATE TABLE "ProductVariants" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "VariantName" text NOT NULL,
    "Price" numeric NOT NULL,
    "Stock" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "ProductId" uuid NOT NULL,
    CONSTRAINT "PK_ProductVariants" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductVariants_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);

CREATE TABLE "ProductPromotions" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "ProductId" uuid NOT NULL,
    "PromotionId" uuid NOT NULL,
    CONSTRAINT "PK_ProductPromotions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductPromotions_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductPromotions_Promotions_PromotionId" FOREIGN KEY ("PromotionId") REFERENCES "Promotions" ("Id") ON DELETE CASCADE
);

CREATE TABLE "Stores" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Name" text NOT NULL,
    "Infomation" text,
    "AvatarPath" text NOT NULL,
    "AdditionalInfo" text,
    "GhnShopId" integer,
    "IsGhnSynced" boolean NOT NULL,
    "Phone" text NOT NULL,
    "IsBanned" boolean NOT NULL,
    "IsActive" boolean NOT NULL,
    "IsVerified" integer NOT NULL,
    "StoreAddressId" uuid NOT NULL,
    CONSTRAINT "PK_Stores" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Stores_StoreAddresses_StoreAddressId" FOREIGN KEY ("StoreAddressId") REFERENCES "StoreAddresses" ("Id") ON DELETE CASCADE
);

CREATE TABLE "AspNetUsers" (
    "Id" uuid NOT NULL,
    "FullName" text NOT NULL,
    "OTPId" uuid,
    "IsDeleted" boolean NOT NULL,
    "CreationDate" timestamp with time zone,
    "ModificationDate" timestamp with time zone,
    "DeletionDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationById" uuid,
    "DeleteById" uuid,
    "StoreId" uuid,
    "RefreshToken" text,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUsers_OTPData_OTPId" FOREIGN KEY ("OTPId") REFERENCES "OTPData" ("Id"),
    CONSTRAINT "FK_AspNetUsers_Stores_StoreId" FOREIGN KEY ("StoreId") REFERENCES "Stores" ("Id")
);

CREATE TABLE "ProductItems" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "SKU" text NOT NULL,
    "OriginalPrice" numeric NOT NULL,
    "DiscountedPrice" numeric NOT NULL,
    "Weight" integer NOT NULL,
    "Length" integer NOT NULL,
    "Width" integer NOT NULL,
    "Height" integer NOT NULL,
    "Stock" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "VariantId" uuid NOT NULL,
    "StoreId" uuid NOT NULL,
    CONSTRAINT "PK_ProductItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductItems_ProductVariants_VariantId" FOREIGN KEY ("VariantId") REFERENCES "ProductVariants" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductItems_Stores_StoreId" FOREIGN KEY ("StoreId") REFERENCES "Stores" ("Id") ON DELETE CASCADE
);

CREATE TABLE "AdministratorUsers" (
    "Id" uuid NOT NULL,
    "RoleId" uuid,
    CONSTRAINT "PK_AdministratorUsers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AdministratorUsers_AdministratorRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AdministratorRoles" ("Id"),
    CONSTRAINT "FK_AdministratorUsers_AspNetUsers_Id" FOREIGN KEY ("Id") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "AspNetUserRoles" (
    "UserId" uuid NOT NULL,
    "RoleId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "AspNetUserTokens" (
    "UserId" uuid NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "ConsultantUsers" (
    "Id" uuid NOT NULL,
    "ConsultantId" uuid,
    "RoleId" uuid NOT NULL,
    "Specialization" text NOT NULL,
    "Biography" text NOT NULL,
    "AvatarPath" text NOT NULL,
    "ExpertiseArea" text NOT NULL,
    "StringeeAccessToken" text,
    CONSTRAINT "PK_ConsultantUsers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ConsultantUsers_AspNetUsers_Id" FOREIGN KEY ("Id") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ConsultantUsers_ConsultantRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "ConsultantRoles" ("Id") ON DELETE CASCADE
);

CREATE TABLE "Conversations" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "User1Id" uuid NOT NULL,
    "User2Id" uuid NOT NULL,
    "LastMessageAt" timestamp with time zone,
    "LastMessage" text NOT NULL,
    CONSTRAINT "PK_Conversations" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Conversations_AspNetUsers_User1Id" FOREIGN KEY ("User1Id") REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Conversations_AspNetUsers_User2Id" FOREIGN KEY ("User2Id") REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT
);

CREATE TABLE "CustomerUsers" (
    "Id" uuid NOT NULL,
    "RankId" uuid NOT NULL,
    "CustomerRoleId" uuid,
    CONSTRAINT "PK_CustomerUsers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CustomerUsers_AspNetUsers_Id" FOREIGN KEY ("Id") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CustomerUsers_CustomerRoles_CustomerRoleId" FOREIGN KEY ("CustomerRoleId") REFERENCES "CustomerRoles" ("Id")
);

CREATE TABLE "GuardianUsers" (
    "Id" uuid NOT NULL,
    CONSTRAINT "PK_GuardianUsers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_GuardianUsers_AspNetUsers_Id" FOREIGN KEY ("Id") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "StoreUsers" (
    "Id" uuid NOT NULL,
    CONSTRAINT "PK_StoreUsers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StoreUsers_AspNetUsers_Id" FOREIGN KEY ("Id") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "ProductImages" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "ImagePath" text NOT NULL,
    "ImageName" text NOT NULL,
    "ProductItemId" uuid,
    "ProductId" uuid,
    CONSTRAINT "PK_ProductImages" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductImages_ProductItems_ProductItemId" FOREIGN KEY ("ProductItemId") REFERENCES "ProductItems" ("Id"),
    CONSTRAINT "FK_ProductImages_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id")
);

CREATE TABLE "StockHistories" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "ProductItemId" uuid NOT NULL,
    "Date" timestamp with time zone NOT NULL,
    "QuantityChange" integer NOT NULL,
    "StockAfterChange" integer NOT NULL,
    "Reason" text,
    CONSTRAINT "PK_StockHistories" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockHistories_ProductItems_ProductItemId" FOREIGN KEY ("ProductItemId") REFERENCES "ProductItems" ("Id") ON DELETE CASCADE
);

CREATE TABLE "Categories" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Status" text NOT NULL,
    "ApprovedById" uuid,
    "ParentCategoryId" uuid,
    "CreatedDate" timestamp with time zone,
    "ApprovedUserId" uuid,
    CONSTRAINT "PK_Categories" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Categories_AdministratorUsers_ApprovedUserId" FOREIGN KEY ("ApprovedUserId") REFERENCES "AdministratorUsers" ("Id"),
    CONSTRAINT "FK_Categories_Categories_ParentCategoryId" FOREIGN KEY ("ParentCategoryId") REFERENCES "Categories" ("Id")
);

CREATE TABLE "ProductReports" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Title" text NOT NULL,
    "Description" text NOT NULL,
    "FilePath" text NOT NULL,
    "AdministratorUserId" uuid,
    CONSTRAINT "PK_ProductReports" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductReports_AdministratorUsers_AdministratorUserId" FOREIGN KEY ("AdministratorUserId") REFERENCES "AdministratorUsers" ("Id")
);

CREATE TABLE "Reports" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Title" text NOT NULL,
    "Description" text NOT NULL,
    "FilePath" text NOT NULL,
    "AdministratorUserId" uuid,
    CONSTRAINT "PK_Reports" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Reports_AdministratorUsers_AdministratorUserId" FOREIGN KEY ("AdministratorUserId") REFERENCES "AdministratorUsers" ("Id")
);

CREATE TABLE "UserReports" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Title" text NOT NULL,
    "Description" text NOT NULL,
    "FilePath" text NOT NULL,
    "AdministratorUserId" uuid,
    CONSTRAINT "PK_UserReports" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserReports_AdministratorUsers_AdministratorUserId" FOREIGN KEY ("AdministratorUserId") REFERENCES "AdministratorUsers" ("Id")
);

CREATE TABLE "Messages" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "ConversationId" uuid NOT NULL,
    "SenderId" uuid NOT NULL,
    "Content" text NOT NULL,
    "IsRead" boolean NOT NULL,
    "IsModified" boolean NOT NULL,
    CONSTRAINT "PK_Messages" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Messages_AspNetUsers_SenderId" FOREIGN KEY ("SenderId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Messages_Conversations_ConversationId" FOREIGN KEY ("ConversationId") REFERENCES "Conversations" ("Id") ON DELETE CASCADE
);

CREATE TABLE "CustomerPaymentMethods" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "CustomerId" uuid NOT NULL,
    "PaymentMethodId" uuid NOT NULL,
    "IsDefault" boolean NOT NULL,
    CONSTRAINT "PK_CustomerPaymentMethods" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CustomerPaymentMethods_CustomerUsers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "CustomerUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CustomerPaymentMethods_PaymentMethods_PaymentMethodId" FOREIGN KEY ("PaymentMethodId") REFERENCES "PaymentMethods" ("Id") ON DELETE CASCADE
);

CREATE TABLE "CustomerRanks" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Rank" text NOT NULL,
    "CustomerId" uuid NOT NULL,
    CONSTRAINT "PK_CustomerRanks" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CustomerRanks_CustomerUsers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "CustomerUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "UserPromotions" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "UserId" uuid NOT NULL,
    "PromotionId" uuid NOT NULL,
    CONSTRAINT "PK_UserPromotions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserPromotions_CustomerUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "CustomerUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserPromotions_Promotions_PromotionId" FOREIGN KEY ("PromotionId") REFERENCES "Promotions" ("Id") ON DELETE CASCADE
);

CREATE TABLE "DependentUsers" (
    "Id" uuid NOT NULL,
    "GuardianId" uuid NOT NULL,
    CONSTRAINT "PK_DependentUsers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_DependentUsers_AspNetUsers_Id" FOREIGN KEY ("Id") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_DependentUsers_GuardianUsers_GuardianId" FOREIGN KEY ("GuardianId") REFERENCES "GuardianUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "Cart" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "UserId" uuid NOT NULL,
    "TotalPrice" numeric NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "StoreUserId" uuid NOT NULL,
    CONSTRAINT "PK_Cart" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Cart_StoreUsers_StoreUserId" FOREIGN KEY ("StoreUserId") REFERENCES "StoreUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "ScheduledTasks" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "TaskPath" text,
    "ScheduledTime" timestamp with time zone NOT NULL,
    "IsCompleted" boolean NOT NULL,
    "AssignedAt" timestamp with time zone NOT NULL,
    "CompletedAt" timestamp with time zone,
    "Deadline" timestamp with time zone,
    "StoreUserId" uuid NOT NULL,
    CONSTRAINT "PK_ScheduledTasks" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ScheduledTasks_StoreUsers_StoreUserId" FOREIGN KEY ("StoreUserId") REFERENCES "StoreUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "StoreUserRoles" (
    "UserId" uuid NOT NULL,
    "RoleId" uuid NOT NULL,
    "StoreUserId" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "ModificationDate" timestamp with time zone,
    "DeletionDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationById" uuid,
    "DeleteById" uuid,
    CONSTRAINT "PK_StoreUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_StoreUserRoles_StoreRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "StoreRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_StoreUserRoles_StoreUsers_StoreUserId" FOREIGN KEY ("StoreUserId") REFERENCES "StoreUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "ProductCategory" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "ProductId" uuid NOT NULL,
    "CategoryId" uuid NOT NULL,
    CONSTRAINT "PK_ProductCategory" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductCategory_Categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "Categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductCategory_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);

CREATE TABLE "Addresses" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "StreetAddress" text NOT NULL,
    "WardCode" text NOT NULL,
    "DistrictId" integer NOT NULL,
    "ToDistrictName" text NOT NULL,
    "ToProvinceName" text NOT NULL,
    "CustomerId" uuid,
    "AdministratorUserId" uuid,
    "ConsultantUserId" uuid,
    "DependentUserId" uuid,
    "GuardianUserId" uuid,
    "StoreUserId" uuid,
    CONSTRAINT "PK_Addresses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Addresses_AdministratorUsers_AdministratorUserId" FOREIGN KEY ("AdministratorUserId") REFERENCES "AdministratorUsers" ("Id"),
    CONSTRAINT "FK_Addresses_ConsultantUsers_ConsultantUserId" FOREIGN KEY ("ConsultantUserId") REFERENCES "ConsultantUsers" ("Id"),
    CONSTRAINT "FK_Addresses_CustomerUsers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "CustomerUsers" ("Id"),
    CONSTRAINT "FK_Addresses_DependentUsers_DependentUserId" FOREIGN KEY ("DependentUserId") REFERENCES "DependentUsers" ("Id"),
    CONSTRAINT "FK_Addresses_GuardianUsers_GuardianUserId" FOREIGN KEY ("GuardianUserId") REFERENCES "GuardianUsers" ("Id"),
    CONSTRAINT "FK_Addresses_StoreUsers_StoreUserId" FOREIGN KEY ("StoreUserId") REFERENCES "StoreUsers" ("Id")
);

CREATE TABLE "Consultations" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "ConsultationId" uuid NOT NULL,
    "ConsultantId" uuid NOT NULL,
    "CustomerId" uuid NOT NULL,
    "ReportContent" text NOT NULL,
    "VideoRecordingUrl" text,
    "CompletedTime" timestamp with time zone,
    "IsCompleted" boolean NOT NULL,
    "Notes" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_Consultations" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Consultations_ConsultantUsers_ConsultantId" FOREIGN KEY ("ConsultantId") REFERENCES "ConsultantUsers" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Consultations_DependentUsers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "DependentUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "Orders" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "UserRank" text NOT NULL,
    "TotalPrice" numeric NOT NULL,
    "OrderStatus" text NOT NULL,
    "DependentUserID" uuid,
    "GuardianId" uuid,
    "OrderGhnCode" text NOT NULL,
    "UserPromotionId" uuid,
    "CustomerUserId" uuid,
    "OrderStatusId" uuid,
    CONSTRAINT "PK_Orders" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Orders_CustomerUsers_CustomerUserId" FOREIGN KEY ("CustomerUserId") REFERENCES "CustomerUsers" ("Id"),
    CONSTRAINT "FK_Orders_DependentUsers_DependentUserID" FOREIGN KEY ("DependentUserID") REFERENCES "DependentUsers" ("Id"),
    CONSTRAINT "FK_Orders_GuardianUsers_GuardianId" FOREIGN KEY ("GuardianId") REFERENCES "GuardianUsers" ("Id"),
    CONSTRAINT "FK_Orders_OrderStatuses_OrderStatusId" FOREIGN KEY ("OrderStatusId") REFERENCES "OrderStatuses" ("Id"),
    CONSTRAINT "FK_Orders_UserPromotions_UserPromotionId" FOREIGN KEY ("UserPromotionId") REFERENCES "UserPromotions" ("Id")
);

CREATE TABLE "CartItem" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "Quantity" integer NOT NULL,
    "Price" numeric NOT NULL,
    "TotalPrice" numeric NOT NULL,
    "IsSelected" boolean NOT NULL,
    "CartId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "ProductItemId" uuid NOT NULL,
    "StoreId" uuid NOT NULL,
    CONSTRAINT "PK_CartItem" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CartItem_Cart_CartId" FOREIGN KEY ("CartId") REFERENCES "Cart" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItem_ProductItems_ProductItemId" FOREIGN KEY ("ProductItemId") REFERENCES "ProductItems" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItem_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItem_Stores_StoreId" FOREIGN KEY ("StoreId") REFERENCES "Stores" ("Id") ON DELETE CASCADE
);

CREATE TABLE "CustomerAddresses" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "CustomerId" uuid NOT NULL,
    "AddressId" uuid NOT NULL,
    CONSTRAINT "PK_CustomerAddresses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CustomerAddresses_Addresses_AddressId" FOREIGN KEY ("AddressId") REFERENCES "Addresses" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CustomerAddresses_CustomerUsers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "CustomerUsers" ("Id") ON DELETE CASCADE
);

CREATE TABLE "OrderDetails" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "OrderId" uuid NOT NULL,
    "ProductItemId" uuid NOT NULL,
    "OrderItemStatus" text NOT NULL,
    "Weight" integer NOT NULL,
    "Length" integer NOT NULL,
    "Width" integer NOT NULL,
    "Height" integer NOT NULL,
    "Quantity" integer NOT NULL,
    "Price" numeric NOT NULL,
    "Notes" text,
    CONSTRAINT "PK_OrderDetails" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_OrderDetails_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_OrderDetails_ProductItems_ProductItemId" FOREIGN KEY ("ProductItemId") REFERENCES "ProductItems" ("Id") ON DELETE CASCADE
);

CREATE TABLE "OrderReviews" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "ReviewText" text NOT NULL,
    "Rating" integer NOT NULL,
    "OrderId" uuid NOT NULL,
    "CustomerId" uuid NOT NULL,
    CONSTRAINT "PK_OrderReviews" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_OrderReviews_CustomerUsers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "CustomerUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_OrderReviews_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);

INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "IsDeleted", "ModificationById", "ModificationDate", "Name", "NormalizedName")
VALUES ('0c09b112-baf9-4ec3-bc79-cce452219d60', NULL, NULL, NULL, NULL, NULL, '', FALSE, NULL, NULL, 'Guardian', 'GUARDIAN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "IsDeleted", "ModificationById", "ModificationDate", "Name", "NormalizedName")
VALUES ('0e61cc83-d3c4-43b1-9334-8dd0c9d22833', NULL, NULL, NULL, NULL, NULL, '', FALSE, NULL, NULL, 'Admin', 'ADMIN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "IsDeleted", "ModificationById", "ModificationDate", "Name", "NormalizedName")
VALUES ('2c8499d3-6ec2-4745-b2f7-6e33182f6f6f', NULL, NULL, NULL, NULL, NULL, '', FALSE, NULL, NULL, 'Customer', 'CUSTOMER');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "IsDeleted", "ModificationById", "ModificationDate", "Name", "NormalizedName")
VALUES ('5c2cb3f3-d9b1-4d5f-8a9c-1e6f689ee0f4', NULL, NULL, NULL, NULL, NULL, '', FALSE, NULL, NULL, 'SuperAdmin', 'SUPERADMIN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "IsDeleted", "ModificationById", "ModificationDate", "Name", "NormalizedName")
VALUES ('60cb3e42-0903-4c3f-8e9c-bfdc6f6a1a01', NULL, NULL, NULL, NULL, NULL, '', FALSE, NULL, NULL, 'StoreOwner', 'STOREOWNER');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "IsDeleted", "ModificationById", "ModificationDate", "Name", "NormalizedName")
VALUES ('a2a02247-2a41-4a38-8804-4be8038fa78b', NULL, NULL, NULL, NULL, NULL, '', FALSE, NULL, NULL, 'StoreSupport', 'STORESUPPORT');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "IsDeleted", "ModificationById", "ModificationDate", "Name", "NormalizedName")
VALUES ('c66a403b-e1f9-47f3-9f6b-d8c3913b7a1b', NULL, NULL, NULL, NULL, NULL, '', FALSE, NULL, NULL, 'DependentUser', 'DEPENDENTUSER');

INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Email", "EmailConfirmed", "FullName", "IsDeleted", "LockoutEnabled", "LockoutEnd", "ModificationById", "ModificationDate", "NormalizedEmail", "NormalizedUserName", "OTPId", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "SecurityStamp", "StoreId", "TwoFactorEnabled", "UserName")
VALUES ('9878ee32-2ead-4165-9e44-e510ba1bae29', 0, '32db2eaa-aebe-41e2-93ba-c9d526a90537', NULL, TIMESTAMPTZ '2025-07-10T15:02:40.094327Z', NULL, NULL, 'admin@elderly.com', TRUE, 'Super Admin', FALSE, FALSE, NULL, NULL, NULL, 'ADMIN@ELDERLY.COM', 'SUPERADMIN', NULL, 'AQAAAAIAAYagAAAAECkAGcXJtMUNFiOJn0avbpwKGczH/ySpYAHnqBYR+2Kd7qN0GAOg7ZWzpTKl60ryNA==', NULL, FALSE, NULL, NULL, NULL, FALSE, 'superadmin');

INSERT INTO "AdministratorRoles" ("Id")
VALUES ('0e61cc83-d3c4-43b1-9334-8dd0c9d22833');
INSERT INTO "AdministratorRoles" ("Id")
VALUES ('5c2cb3f3-d9b1-4d5f-8a9c-1e6f689ee0f4');

INSERT INTO "AdministratorUsers" ("Id", "RoleId")
VALUES ('9878ee32-2ead-4165-9e44-e510ba1bae29', NULL);

INSERT INTO "CustomerRoles" ("Id")
VALUES ('0c09b112-baf9-4ec3-bc79-cce452219d60');
INSERT INTO "CustomerRoles" ("Id")
VALUES ('2c8499d3-6ec2-4745-b2f7-6e33182f6f6f');
INSERT INTO "CustomerRoles" ("Id")
VALUES ('c66a403b-e1f9-47f3-9f6b-d8c3913b7a1b');

INSERT INTO "StoreRoles" ("Id")
VALUES ('60cb3e42-0903-4c3f-8e9c-bfdc6f6a1a01');
INSERT INTO "StoreRoles" ("Id")
VALUES ('a2a02247-2a41-4a38-8804-4be8038fa78b');

CREATE INDEX "IX_Addresses_AdministratorUserId" ON "Addresses" ("AdministratorUserId");

CREATE INDEX "IX_Addresses_ConsultantUserId" ON "Addresses" ("ConsultantUserId");

CREATE INDEX "IX_Addresses_CustomerId" ON "Addresses" ("CustomerId");

CREATE INDEX "IX_Addresses_DependentUserId" ON "Addresses" ("DependentUserId");

CREATE INDEX "IX_Addresses_GuardianUserId" ON "Addresses" ("GuardianUserId");

CREATE INDEX "IX_Addresses_StoreUserId" ON "Addresses" ("StoreUserId");

CREATE INDEX "IX_AdministratorUsers_RoleId" ON "AdministratorUsers" ("RoleId");

CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");

CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");

CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");

CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");

CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");

CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");

CREATE INDEX "IX_AspNetUsers_OTPId" ON "AspNetUsers" ("OTPId");

CREATE INDEX "IX_AspNetUsers_StoreId" ON "AspNetUsers" ("StoreId");

CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");

CREATE INDEX "IX_Cart_StoreUserId" ON "Cart" ("StoreUserId");

CREATE INDEX "IX_CartItem_CartId" ON "CartItem" ("CartId");

CREATE INDEX "IX_CartItem_ProductId" ON "CartItem" ("ProductId");

CREATE INDEX "IX_CartItem_ProductItemId" ON "CartItem" ("ProductItemId");

CREATE INDEX "IX_CartItem_StoreId" ON "CartItem" ("StoreId");

CREATE INDEX "IX_Categories_ApprovedUserId" ON "Categories" ("ApprovedUserId");

CREATE INDEX "IX_Categories_ParentCategoryId" ON "Categories" ("ParentCategoryId");

CREATE INDEX "IX_ConsultantUsers_RoleId" ON "ConsultantUsers" ("RoleId");

CREATE INDEX "IX_Consultations_ConsultantId" ON "Consultations" ("ConsultantId");

CREATE INDEX "IX_Consultations_CustomerId" ON "Consultations" ("CustomerId");

CREATE INDEX "IX_Conversations_User1Id" ON "Conversations" ("User1Id");

CREATE INDEX "IX_Conversations_User2Id" ON "Conversations" ("User2Id");

CREATE INDEX "IX_CustomerAddresses_AddressId" ON "CustomerAddresses" ("AddressId");

CREATE INDEX "IX_CustomerAddresses_CustomerId" ON "CustomerAddresses" ("CustomerId");

CREATE INDEX "IX_CustomerPaymentMethods_CustomerId" ON "CustomerPaymentMethods" ("CustomerId");

CREATE INDEX "IX_CustomerPaymentMethods_PaymentMethodId" ON "CustomerPaymentMethods" ("PaymentMethodId");

CREATE UNIQUE INDEX "IX_CustomerRanks_CustomerId" ON "CustomerRanks" ("CustomerId");

CREATE INDEX "IX_CustomerUsers_CustomerRoleId" ON "CustomerUsers" ("CustomerRoleId");

CREATE INDEX "IX_DependentUsers_GuardianId" ON "DependentUsers" ("GuardianId");

CREATE INDEX "IX_Messages_ConversationId" ON "Messages" ("ConversationId");

CREATE INDEX "IX_Messages_SenderId" ON "Messages" ("SenderId");

CREATE INDEX "IX_OrderDetails_OrderId" ON "OrderDetails" ("OrderId");

CREATE INDEX "IX_OrderDetails_ProductItemId" ON "OrderDetails" ("ProductItemId");

CREATE INDEX "IX_OrderReviews_CustomerId" ON "OrderReviews" ("CustomerId");

CREATE INDEX "IX_OrderReviews_OrderId" ON "OrderReviews" ("OrderId");

CREATE INDEX "IX_Orders_CustomerUserId" ON "Orders" ("CustomerUserId");

CREATE INDEX "IX_Orders_DependentUserID" ON "Orders" ("DependentUserID");

CREATE INDEX "IX_Orders_GuardianId" ON "Orders" ("GuardianId");

CREATE INDEX "IX_Orders_OrderStatusId" ON "Orders" ("OrderStatusId");

CREATE INDEX "IX_Orders_UserPromotionId" ON "Orders" ("UserPromotionId");

CREATE INDEX "IX_PaymentMethodHistories_PaymentMethodId" ON "PaymentMethodHistories" ("PaymentMethodId");

CREATE INDEX "IX_ProductCategory_CategoryId" ON "ProductCategory" ("CategoryId");

CREATE INDEX "IX_ProductCategory_ProductId" ON "ProductCategory" ("ProductId");

CREATE INDEX "IX_ProductImages_ProductId" ON "ProductImages" ("ProductId");

CREATE INDEX "IX_ProductImages_ProductItemId" ON "ProductImages" ("ProductItemId");

CREATE INDEX "IX_ProductItems_StoreId" ON "ProductItems" ("StoreId");

CREATE INDEX "IX_ProductItems_VariantId" ON "ProductItems" ("VariantId");

CREATE INDEX "IX_ProductPromotions_ProductId" ON "ProductPromotions" ("ProductId");

CREATE INDEX "IX_ProductPromotions_PromotionId" ON "ProductPromotions" ("PromotionId");

CREATE INDEX "IX_ProductReports_AdministratorUserId" ON "ProductReports" ("AdministratorUserId");

CREATE INDEX "IX_ProductVariants_ProductId" ON "ProductVariants" ("ProductId");

CREATE INDEX "IX_Reports_AdministratorUserId" ON "Reports" ("AdministratorUserId");

CREATE INDEX "IX_ScheduledTasks_StoreUserId" ON "ScheduledTasks" ("StoreUserId");

CREATE INDEX "IX_StockHistories_ProductItemId" ON "StockHistories" ("ProductItemId");

CREATE INDEX "IX_Stores_StoreAddressId" ON "Stores" ("StoreAddressId");

CREATE INDEX "IX_StoreUserRoles_RoleId" ON "StoreUserRoles" ("RoleId");

CREATE INDEX "IX_StoreUserRoles_StoreUserId" ON "StoreUserRoles" ("StoreUserId");

CREATE INDEX "IX_UserPromotions_PromotionId" ON "UserPromotions" ("PromotionId");

CREATE INDEX "IX_UserPromotions_UserId" ON "UserPromotions" ("UserId");

CREATE INDEX "IX_UserReports_AdministratorUserId" ON "UserReports" ("AdministratorUserId");

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250710150240_Initial', '8.0.15');

COMMIT;

START TRANSACTION;

UPDATE "AspNetUsers" SET "ConcurrencyStamp" = '305193f4-ffdb-4335-bd41-8197e5a0b1c2', "CreationDate" = TIMESTAMPTZ '2025-07-10T15:50:55.509714Z', "PasswordHash" = 'AQAAAAIAAYagAAAAEBMIJ7DmIzhO/9HZUqMNGNJo7yigDjHNfcLRsT1Fh1I5iUiu0jV3dPwYEuLOFJowsQ=='
WHERE "Id" = '9878ee32-2ead-4165-9e44-e510ba1bae29';

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250710155056_Check_DB', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "StoreAddresses" RENAME COLUMN "StreetAddress" TO "Address";

ALTER TABLE "AspNetUsers" ADD "Gender" text NOT NULL DEFAULT 'Other';

UPDATE "AspNetUsers" SET "ConcurrencyStamp" = '3a11c200-bcb4-49a2-86f6-2872a12bd3ac', "CreationDate" = TIMESTAMPTZ '2025-07-11T17:07:16.033016Z', "Gender" = 'Other', "PasswordHash" = 'AQAAAAIAAYagAAAAELnpiK3mQBKNyxLpFXvZaSaPJNw8Ka2byPrhxXDnVavWg7HSQchY+VDE/+6SEqCFcQ=='
WHERE "Id" = '9878ee32-2ead-4165-9e44-e510ba1bae29';

INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('11111111-1111-1111-1111-111111111111', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.98911Z', NULL, NULL, 'Các thiết bị y tế hỗ trợ chăm sóc sức khỏe người cao tuổi', NULL, NULL, 'Thiết bị y tế', NULL, 'Active');
INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('22222222-2222-2222-2222-222222222222', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989111Z', NULL, NULL, 'Thực phẩm bổ sung dinh dưỡng cho người cao tuổi', NULL, NULL, 'Thực phẩm dinh dưỡng', NULL, 'Active');
INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('33333333-3333-3333-3333-333333333333', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989111Z', NULL, NULL, 'Các dụng cụ hỗ trợ sinh hoạt hàng ngày', NULL, NULL, 'Dụng cụ hỗ trợ', NULL, 'Active');
INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('44444444-4444-4444-4444-444444444444', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989111Z', NULL, NULL, 'Các dịch vụ tư vấn chăm sóc sức khỏe', NULL, NULL, 'Dịch vụ tư vấn', NULL, 'Active');

INSERT INTO "Products" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ProductType", "VideoPath")
VALUES ('11111111-1111-1111-1111-111111111121', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989273Z', NULL, NULL, 'Máy đo huyết áp điện tử tự động, dễ sử dụng cho người cao tuổi', NULL, NULL, 'Máy đo huyết áp Omron HEM-7130', 'Physical', '/videos/products/omron-hem-7130.mp4');
INSERT INTO "Products" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ProductType", "VideoPath")
VALUES ('11111111-1111-1111-1111-111111111122', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989274Z', NULL, NULL, 'Máy đo đường huyết chính xác, ít đau khi lấy máu', NULL, NULL, 'Máy đo đường huyết Accu-Chek Guide', 'Physical', '/videos/products/accu-chek-guide.mp4');
INSERT INTO "Products" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ProductType", "VideoPath")
VALUES ('11111111-1111-1111-1111-111111111123', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989274Z', NULL, NULL, 'Máy xông mũi họng siêu âm, hiệu quả cao', NULL, NULL, 'Máy xông mũi họng Omron NE-C28', 'Physical', '/videos/products/omron-ne-c28.mp4');
INSERT INTO "Products" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ProductType", "VideoPath")
VALUES ('22222222-2222-2222-2222-222222222225', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989274Z', NULL, NULL, 'Sữa dinh dưỡng bổ sung protein và vitamin cho người cao tuổi', NULL, NULL, 'Sữa Ensure Gold', 'Consumable', '/videos/products/ensure-gold.mp4');
INSERT INTO "Products" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ProductType", "VideoPath")
VALUES ('22222222-2222-2222-2222-222222222226', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989275Z', NULL, NULL, 'Bổ sung vitamin D3 và K2 cho xương khớp', NULL, NULL, 'Vitamin D3 + K2', 'Consumable', '/videos/products/vitamin-d3-k2.mp4');
INSERT INTO "Products" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ProductType", "VideoPath")
VALUES ('33333333-3333-3333-3333-333333333336', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989275Z', NULL, NULL, 'Gậy chống 4 chân chống trượt, an toàn cho người cao tuổi', NULL, NULL, 'Gậy chống 4 chân', 'Physical', '/videos/products/gay-chong-4-chan.mp4');
INSERT INTO "Products" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ProductType", "VideoPath")
VALUES ('33333333-3333-3333-3333-333333333337', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989275Z', NULL, NULL, 'Xe lăn tay gấp gọn, nhẹ và dễ di chuyển', NULL, NULL, 'Xe lăn tay gấp gọn', 'Physical', '/videos/products/xe-lan-tay.mp4');
INSERT INTO "Products" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ProductType", "VideoPath")
VALUES ('44444444-4444-4444-4444-444444444445', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989275Z', NULL, NULL, 'Dịch vụ tư vấn dinh dưỡng trực tuyến với chuyên gia', NULL, NULL, 'Tư vấn dinh dưỡng online', 'Service', '/videos/services/tu-van-dinh-duong.mp4');
INSERT INTO "Products" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ProductType", "VideoPath")
VALUES ('44444444-4444-4444-4444-444444444446', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989277Z', NULL, NULL, 'Gói khám sức khỏe định kỳ cho người cao tuổi', NULL, NULL, 'Khám sức khỏe định kỳ', 'Service', '/videos/services/kham-suc-khoe.mp4');

INSERT INTO "StoreAddresses" ("Id", "Address", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "DistrictId", "DistrictName", "ModificationById", "ModificationDate", "ProvinceName", "WardCode", "WardName")
VALUES ('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', '123 Đường Lê Lợi', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989262Z', NULL, NULL, 7601, 'Quận 1', NULL, NULL, 'TP. Hồ Chí Minh', '7601001', 'Bến Nghé');

INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('11111111-1111-1111-1111-111111111112', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989112Z', NULL, NULL, 'Các loại máy đo huyết áp điện tử', NULL, NULL, 'Máy đo huyết áp', '11111111-1111-1111-1111-111111111111', 'Active');
INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('11111111-1111-1111-1111-111111111113', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989112Z', NULL, NULL, 'Thiết bị đo đường huyết tại nhà', NULL, NULL, 'Máy đo đường huyết', '11111111-1111-1111-1111-111111111111', 'Active');
INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('11111111-1111-1111-1111-111111111114', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989113Z', NULL, NULL, 'Thiết bị xông mũi họng tại nhà', NULL, NULL, 'Máy xông mũi họng', '11111111-1111-1111-1111-111111111111', 'Active');
INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('22222222-2222-2222-2222-222222222223', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989113Z', NULL, NULL, 'Các loại sữa bổ sung dinh dưỡng', NULL, NULL, 'Sữa dinh dưỡng', '22222222-2222-2222-2222-222222222222', 'Active');
INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('22222222-2222-2222-2222-222222222224', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989113Z', NULL, NULL, 'Thực phẩm chức năng bổ sung vitamin', NULL, NULL, 'Vitamin và khoáng chất', '22222222-2222-2222-2222-222222222222', 'Active');
INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('33333333-3333-3333-3333-333333333334', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989114Z', NULL, NULL, 'Các loại gậy hỗ trợ đi lại', NULL, NULL, 'Gậy chống', '33333333-3333-3333-3333-333333333333', 'Active');
INSERT INTO "Categories" ("Id", "ApprovedById", "ApprovedUserId", "CreatedById", "CreatedDate", "CreationDate", "DeleteById", "DeletionDate", "Description", "ModificationById", "ModificationDate", "Name", "ParentCategoryId", "Status")
VALUES ('33333333-3333-3333-3333-333333333335', NULL, NULL, NULL, NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989114Z', NULL, NULL, 'Xe lăn hỗ trợ di chuyển', NULL, NULL, 'Xe lăn', '33333333-3333-3333-3333-333333333333', 'Active');

INSERT INTO "ProductCategory" ("Id", "CategoryId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate", "ProductId")
VALUES ('44444444-4444-4444-4444-444444444449', '44444444-4444-4444-4444-444444444444', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989403Z', NULL, NULL, NULL, NULL, '44444444-4444-4444-4444-444444444445');
INSERT INTO "ProductCategory" ("Id", "CategoryId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate", "ProductId")
VALUES ('44444444-4444-4444-4444-444444444450', '44444444-4444-4444-4444-444444444444', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989403Z', NULL, NULL, NULL, NULL, '44444444-4444-4444-4444-444444444446');

INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('11111111-1111-1111-1111-111111111131', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989287Z', NULL, NULL, TRUE, NULL, NULL, 850000.0, '11111111-1111-1111-1111-111111111121', 50, 'Máy đo huyết áp Omron HEM-7130 - Màu trắng');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('11111111-1111-1111-1111-111111111132', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989287Z', NULL, NULL, TRUE, NULL, NULL, 850000.0, '11111111-1111-1111-1111-111111111121', 30, 'Máy đo huyết áp Omron HEM-7130 - Màu xanh');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('11111111-1111-1111-1111-111111111133', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989287Z', NULL, NULL, TRUE, NULL, NULL, 1200000.0, '11111111-1111-1111-1111-111111111122', 25, 'Máy đo đường huyết Accu-Chek Guide - Bộ cơ bản');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('11111111-1111-1111-1111-111111111134', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989288Z', NULL, NULL, TRUE, NULL, NULL, 1500000.0, '11111111-1111-1111-1111-111111111122', 20, 'Máy đo đường huyết Accu-Chek Guide - Bộ đầy đủ');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('22222222-2222-2222-2222-222222222227', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989288Z', NULL, NULL, TRUE, NULL, NULL, 280000.0, '22222222-2222-2222-2222-222222222225', 100, 'Sữa Ensure Gold - Hộp 400g');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('22222222-2222-2222-2222-222222222228', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989288Z', NULL, NULL, TRUE, NULL, NULL, 520000.0, '22222222-2222-2222-2222-222222222225', 80, 'Sữa Ensure Gold - Hộp 850g');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('22222222-2222-2222-2222-222222222229', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989288Z', NULL, NULL, TRUE, NULL, NULL, 180000.0, '22222222-2222-2222-2222-222222222226', 150, 'Vitamin D3+K2 - Lọ 60 viên');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('33333333-3333-3333-3333-333333333338', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.98929Z', NULL, NULL, TRUE, NULL, NULL, 450000.0, '33333333-3333-3333-3333-333333333336', 40, 'Gậy chống 4 chân - Màu đen');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('33333333-3333-3333-3333-333333333339', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.98929Z', NULL, NULL, TRUE, NULL, NULL, 450000.0, '33333333-3333-3333-3333-333333333336', 35, 'Gậy chống 4 chân - Màu xanh');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('33333333-3333-3333-3333-333333333340', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.98929Z', NULL, NULL, TRUE, NULL, NULL, 2800000.0, '33333333-3333-3333-3333-333333333337', 15, 'Xe lăn tay gấp gọn - Màu xanh');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('44444444-4444-4444-4444-444444444447', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989291Z', NULL, NULL, TRUE, NULL, NULL, 500000.0, '44444444-4444-4444-4444-444444444445', 999, 'Tư vấn dinh dưỡng - 1 buổi');
INSERT INTO "ProductVariants" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsActive", "ModificationById", "ModificationDate", "Price", "ProductId", "Stock", "VariantName")
VALUES ('44444444-4444-4444-4444-444444444448', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989291Z', NULL, NULL, TRUE, NULL, NULL, 2000000.0, '44444444-4444-4444-4444-444444444445', 999, 'Tư vấn dinh dưỡng - Gói 5 buổi');

INSERT INTO "Stores" ("Id", "AdditionalInfo", "AvatarPath", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "GhnShopId", "Infomation", "IsActive", "IsBanned", "IsGhnSynced", "IsVerified", "ModificationById", "ModificationDate", "Name", "Phone", "StoreAddressId")
VALUES ('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab', NULL, '/images/stores/doc-lap.jpg', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989152Z', NULL, NULL, NULL, 'Cửa hàng độc lập chuyên cung cấp thiết bị y tế và thuốc cho người cao tuổi', TRUE, FALSE, FALSE, 1, NULL, NULL, 'Nhà thuốc Độc Lập', '028-1234-5678', 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa');

INSERT INTO "ProductCategory" ("Id", "CategoryId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate", "ProductId")
VALUES ('11111111-1111-1111-1111-111111111161', '11111111-1111-1111-1111-111111111112', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989396Z', NULL, NULL, NULL, NULL, '11111111-1111-1111-1111-111111111121');
INSERT INTO "ProductCategory" ("Id", "CategoryId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate", "ProductId")
VALUES ('11111111-1111-1111-1111-111111111162', '11111111-1111-1111-1111-111111111113', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989397Z', NULL, NULL, NULL, NULL, '11111111-1111-1111-1111-111111111122');
INSERT INTO "ProductCategory" ("Id", "CategoryId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate", "ProductId")
VALUES ('11111111-1111-1111-1111-111111111163', '11111111-1111-1111-1111-111111111114', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989397Z', NULL, NULL, NULL, NULL, '11111111-1111-1111-1111-111111111123');
INSERT INTO "ProductCategory" ("Id", "CategoryId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate", "ProductId")
VALUES ('22222222-2222-2222-2222-222222222233', '22222222-2222-2222-2222-222222222223', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989397Z', NULL, NULL, NULL, NULL, '22222222-2222-2222-2222-222222222225');
INSERT INTO "ProductCategory" ("Id", "CategoryId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate", "ProductId")
VALUES ('22222222-2222-2222-2222-222222222234', '22222222-2222-2222-2222-222222222224', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989398Z', NULL, NULL, NULL, NULL, '22222222-2222-2222-2222-222222222226');
INSERT INTO "ProductCategory" ("Id", "CategoryId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate", "ProductId")
VALUES ('33333333-3333-3333-3333-333333333345', '33333333-3333-3333-3333-333333333334', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989398Z', NULL, NULL, NULL, NULL, '33333333-3333-3333-3333-333333333336');
INSERT INTO "ProductCategory" ("Id", "CategoryId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate", "ProductId")
VALUES ('33333333-3333-3333-3333-333333333346', '33333333-3333-3333-3333-333333333335', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989403Z', NULL, NULL, NULL, NULL, '33333333-3333-3333-3333-333333333337');

INSERT INTO "ProductItems" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "DiscountedPrice", "Height", "IsActive", "Length", "ModificationById", "ModificationDate", "OriginalPrice", "SKU", "Stock", "StoreId", "VariantId", "Weight", "Width")
VALUES ('11111111-1111-1111-1111-111111111141', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989306Z', NULL, NULL, 800000.0, 10, TRUE, 20, NULL, NULL, 850000.0, 'OMRON-HEM-7130-WHITE-DL', 25, 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab', '11111111-1111-1111-1111-111111111131', 500, 15);
INSERT INTO "ProductItems" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "DiscountedPrice", "Height", "IsActive", "Length", "ModificationById", "ModificationDate", "OriginalPrice", "SKU", "Stock", "StoreId", "VariantId", "Weight", "Width")
VALUES ('11111111-1111-1111-1111-111111111142', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989306Z', NULL, NULL, 1100000.0, 5, TRUE, 15, NULL, NULL, 1200000.0, 'ACCU-CHEK-GUIDE-BASIC-DL', 15, 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab', '11111111-1111-1111-1111-111111111133', 300, 10);
INSERT INTO "ProductItems" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "DiscountedPrice", "Height", "IsActive", "Length", "ModificationById", "ModificationDate", "OriginalPrice", "SKU", "Stock", "StoreId", "VariantId", "Weight", "Width")
VALUES ('22222222-2222-2222-2222-222222222230', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989307Z', NULL, NULL, 250000.0, 6, TRUE, 12, NULL, NULL, 280000.0, 'ENSURE-GOLD-400G-DL', 50, 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab', '22222222-2222-2222-2222-222222222227', 400, 8);
INSERT INTO "ProductItems" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "DiscountedPrice", "Height", "IsActive", "Length", "ModificationById", "ModificationDate", "OriginalPrice", "SKU", "Stock", "StoreId", "VariantId", "Weight", "Width")
VALUES ('22222222-2222-2222-2222-222222222231', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989307Z', NULL, NULL, 160000.0, 3, TRUE, 8, NULL, NULL, 180000.0, 'VITAMIN-D3-K2-60-DL', 75, 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab', '22222222-2222-2222-2222-222222222229', 100, 5);
INSERT INTO "ProductItems" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "DiscountedPrice", "Height", "IsActive", "Length", "ModificationById", "ModificationDate", "OriginalPrice", "SKU", "Stock", "StoreId", "VariantId", "Weight", "Width")
VALUES ('33333333-3333-3333-3333-333333333341', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989308Z', NULL, NULL, 420000.0, 5, TRUE, 120, NULL, NULL, 450000.0, 'GAY-CHONG-4-CHAN-BLACK-DL', 20, 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab', '33333333-3333-3333-3333-333333333338', 800, 5);
INSERT INTO "ProductItems" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "DiscountedPrice", "Height", "IsActive", "Length", "ModificationById", "ModificationDate", "OriginalPrice", "SKU", "Stock", "StoreId", "VariantId", "Weight", "Width")
VALUES ('33333333-3333-3333-3333-333333333342', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989308Z', NULL, NULL, 2600000.0, 90, TRUE, 100, NULL, NULL, 2800000.0, 'XE-LAN-TAY-XANH-DL', 8, 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab', '33333333-3333-3333-3333-333333333340', 15000, 60);

INSERT INTO "ProductImages" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ImageName", "ImagePath", "ModificationById", "ModificationDate", "ProductId", "ProductItemId")
VALUES ('11111111-1111-1111-1111-111111111151', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989321Z', NULL, NULL, 'Máy đo huyết áp Omron HEM-7130 - Ảnh 1', '/images/products/omron-hem-7130-white-1.jpg', NULL, NULL, NULL, '11111111-1111-1111-1111-111111111141');
INSERT INTO "ProductImages" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ImageName", "ImagePath", "ModificationById", "ModificationDate", "ProductId", "ProductItemId")
VALUES ('11111111-1111-1111-1111-111111111152', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989321Z', NULL, NULL, 'Máy đo huyết áp Omron HEM-7130 - Ảnh 2', '/images/products/omron-hem-7130-white-2.jpg', NULL, NULL, NULL, '11111111-1111-1111-1111-111111111141');
INSERT INTO "ProductImages" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ImageName", "ImagePath", "ModificationById", "ModificationDate", "ProductId", "ProductItemId")
VALUES ('22222222-2222-2222-2222-222222222232', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989321Z', NULL, NULL, 'Sữa Ensure Gold 400g - Ảnh 1', '/images/products/ensure-gold-400g-1.jpg', NULL, NULL, NULL, '22222222-2222-2222-2222-222222222230');
INSERT INTO "ProductImages" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ImageName", "ImagePath", "ModificationById", "ModificationDate", "ProductId", "ProductItemId")
VALUES ('33333333-3333-3333-3333-333333333343', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989321Z', NULL, NULL, 'Gậy chống 4 chân đen - Ảnh 1', '/images/products/gay-chong-4-chan-black-1.jpg', NULL, NULL, NULL, '33333333-3333-3333-3333-333333333341');
INSERT INTO "ProductImages" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ImageName", "ImagePath", "ModificationById", "ModificationDate", "ProductId", "ProductItemId")
VALUES ('33333333-3333-3333-3333-333333333344', NULL, TIMESTAMPTZ '2025-07-11T17:07:15.989322Z', NULL, NULL, 'Xe lăn tay xanh - Ảnh 1', '/images/products/xe-lan-tay-xanh-1.jpg', NULL, NULL, NULL, '33333333-3333-3333-3333-333333333342');

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250711170716_UpdateUser', '8.0.15');

COMMIT;

START TRANSACTION;

UPDATE "AspNetUsers" SET "ConcurrencyStamp" = 'd7943075-3569-4a80-a02b-abd460513004', "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.650597Z', "PasswordHash" = 'AQAAAAIAAYagAAAAEJB3lm06j7Y7Lnxf5TyDZfnsTWKYNxhx9z1Z2lfiRLdWwC7DW/5HAG0trlYShVnk+g=='
WHERE "Id" = '9878ee32-2ead-4165-9e44-e510ba1bae29';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604445Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111111';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604447Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111112';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604448Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111113';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604448Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111114';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604446Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222222';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604448Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222223';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604449Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222224';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604446Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333333';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604449Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333334';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604449Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333335';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604446Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444444';

UPDATE "ProductCategory" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604711Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111161';

UPDATE "ProductCategory" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604712Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111162';

UPDATE "ProductCategory" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604712Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111163';

UPDATE "ProductCategory" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604713Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222233';

UPDATE "ProductCategory" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604713Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222234';

UPDATE "ProductCategory" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604713Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333345';

UPDATE "ProductCategory" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604713Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333346';

UPDATE "ProductCategory" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604714Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444449';

UPDATE "ProductCategory" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604714Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444450';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604637Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111151';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604637Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111152';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604638Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222232';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604638Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333343';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604638Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333344';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604625Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111141';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604625Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111142';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604626Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222230';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604626Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222231';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604627Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333341';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604627Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333342';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604593Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111131';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604594Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111132';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604594Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111133';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604594Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111134';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604594Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222227';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604595Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222228';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604595Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222229';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604596Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333338';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604606Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333339';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604606Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333340';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604607Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444447';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604607Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444448';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604576Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111121';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604576Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111122';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604577Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111123';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604577Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222225';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604577Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222226';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604578Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333336';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604578Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333337';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604578Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444445';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604579Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444446';

UPDATE "StoreAddresses" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604559Z'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa';

UPDATE "Stores" SET "CreationDate" = TIMESTAMPTZ '2025-07-11T17:26:32.604473Z'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab';

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250711172633_StoreAddress', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "ProductCategory" DROP CONSTRAINT "FK_ProductCategory_Categories_CategoryId";

ALTER TABLE "ProductCategory" DROP CONSTRAINT "FK_ProductCategory_Products_ProductId";

ALTER TABLE "ProductCategory" DROP CONSTRAINT "PK_ProductCategory";

ALTER TABLE "ProductCategory" RENAME TO "ProductCategories";

ALTER INDEX "IX_ProductCategory_ProductId" RENAME TO "IX_ProductCategories_ProductId";

ALTER INDEX "IX_ProductCategory_CategoryId" RENAME TO "IX_ProductCategories_CategoryId";

ALTER TABLE "ProductCategories" ADD CONSTRAINT "PK_ProductCategories" PRIMARY KEY ("Id");

UPDATE "AspNetUsers" SET "ConcurrencyStamp" = '6f265841-de53-40de-a66d-f4c88495cf67', "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.926189Z', "PasswordHash" = 'AQAAAAIAAYagAAAAEL9WuRGrhGYnFfN73sEQWXI+jomgIUhPQH2Xh4QpyyqF60+Uv/xtjXHYmPlr2G8kjA=='
WHERE "Id" = '9878ee32-2ead-4165-9e44-e510ba1bae29';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880964Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111111';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880965Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111112';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880965Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111113';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880966Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111114';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880964Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222222';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880966Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222223';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880967Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222224';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880965Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333333';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880967Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333334';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880967Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333335';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880965Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444444';

UPDATE "ProductCategories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881325Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111161';

UPDATE "ProductCategories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881325Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111162';

UPDATE "ProductCategories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881326Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111163';

UPDATE "ProductCategories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881326Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222233';

UPDATE "ProductCategories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881327Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222234';

UPDATE "ProductCategories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881327Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333345';

UPDATE "ProductCategories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881327Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333346';

UPDATE "ProductCategories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881327Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444449';

UPDATE "ProductCategories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881328Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444450';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880671Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111151';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880672Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111152';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880673Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222232';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880674Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333343';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880674Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333344';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880594Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111141';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880595Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111142';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880595Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222230';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880596Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222231';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880597Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333341';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880597Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333342';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880499Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111131';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.8805Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111132';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880501Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111133';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880501Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111134';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880501Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222227';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880502Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222228';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880503Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222229';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880503Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333338';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880503Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333339';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880504Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333340';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880505Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444447';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880505Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444448';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880402Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111121';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880403Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111122';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880403Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111123';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880404Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222225';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880406Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222226';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880407Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333336';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880408Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333337';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880408Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444445';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880408Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444446';

UPDATE "StoreAddresses" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.881121Z'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa';

UPDATE "Stores" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T02:03:39.880992Z'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab';

ALTER TABLE "ProductCategories" ADD CONSTRAINT "FK_ProductCategories_Categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "Categories" ("Id") ON DELETE CASCADE;

ALTER TABLE "ProductCategories" ADD CONSTRAINT "FK_ProductCategories_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE;

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250712020340_Seeding', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "AspNetUsers" DROP CONSTRAINT "FK_AspNetUsers_Stores_StoreId";

ALTER TABLE "Cart" DROP CONSTRAINT "FK_Cart_StoreUsers_StoreUserId";

ALTER TABLE "Consultations" DROP CONSTRAINT "FK_Consultations_ConsultantUsers_ConsultantId";

ALTER TABLE "Consultations" DROP CONSTRAINT "FK_Consultations_DependentUsers_CustomerId";

ALTER TABLE "Conversations" DROP CONSTRAINT "FK_Conversations_AspNetUsers_User1Id";

ALTER TABLE "Conversations" DROP CONSTRAINT "FK_Conversations_AspNetUsers_User2Id";

DROP TABLE "OrderReviews";

DROP TABLE "ScheduledTasks";

ALTER TABLE "ProductCategories" DROP CONSTRAINT "PK_ProductCategories";

DROP INDEX "IX_ProductCategories_ProductId";

DROP INDEX "IX_Conversations_User1Id";

DROP INDEX "IX_Conversations_User2Id";

DROP INDEX "IX_AspNetUsers_StoreId";

DELETE FROM "ProductCategories"
WHERE "Id" = '11111111-1111-1111-1111-111111111161';

DELETE FROM "ProductCategories"
WHERE "Id" = '11111111-1111-1111-1111-111111111162';

DELETE FROM "ProductCategories"
WHERE "Id" = '11111111-1111-1111-1111-111111111163';

DELETE FROM "ProductCategories"
WHERE "Id" = '22222222-2222-2222-2222-222222222233';

DELETE FROM "ProductCategories"
WHERE "Id" = '22222222-2222-2222-2222-222222222234';

DELETE FROM "ProductCategories"
WHERE "Id" = '33333333-3333-3333-3333-333333333345';

DELETE FROM "ProductCategories"
WHERE "Id" = '33333333-3333-3333-3333-333333333346';

DELETE FROM "ProductCategories"
WHERE "Id" = '44444444-4444-4444-4444-444444444449';

DELETE FROM "ProductCategories"
WHERE "Id" = '44444444-4444-4444-4444-444444444450';

ALTER TABLE "Stores" DROP COLUMN "IsActive";

ALTER TABLE "Stores" DROP COLUMN "IsVerified";

ALTER TABLE "ProductVariants" DROP COLUMN "Price";

ALTER TABLE "ProductVariants" DROP COLUMN "Stock";

ALTER TABLE "ProductItems" DROP COLUMN "Stock";

ALTER TABLE "ProductCategories" DROP COLUMN "Id";

ALTER TABLE "ProductCategories" DROP COLUMN "IsDeleted";

ALTER TABLE "PaymentMethods" DROP COLUMN "AdditionalInfo";

ALTER TABLE "PaymentMethodHistories" DROP COLUMN "AdditionalInfo";

ALTER TABLE "PaymentMethodHistories" DROP COLUMN "Description";

ALTER TABLE "PaymentMethodHistories" DROP COLUMN "IconPath";

ALTER TABLE "Conversations" DROP COLUMN "User1Id";

ALTER TABLE "Conversations" DROP COLUMN "User2Id";

ALTER TABLE "Consultations" DROP COLUMN "ConsultationId";

ALTER TABLE "Consultations" DROP COLUMN "CreatedAt";

ALTER TABLE "Consultations" DROP COLUMN "UpdatedAt";

ALTER TABLE "Cart" DROP COLUMN "CreatedAt";

ALTER TABLE "Cart" DROP COLUMN "UpdatedAt";

ALTER TABLE "AspNetUsers" DROP COLUMN "StoreId";

ALTER TABLE "Stores" RENAME COLUMN "IsBanned" TO "IsHardDelete";

ALTER TABLE "Stores" RENAME COLUMN "Infomation" TO "Description";

ALTER TABLE "PaymentMethodHistories" RENAME COLUMN "Name" TO "Note";

ALTER TABLE "PaymentMethodHistories" RENAME COLUMN "IsActive" TO "IsHardDelete";

ALTER TABLE "Orders" RENAME COLUMN "UserRank" TO "PaymentStatus_PaymentStatus";

ALTER TABLE "Consultations" RENAME COLUMN "CustomerId" TO "DependentUserId";

ALTER INDEX "IX_Consultations_CustomerId" RENAME TO "IX_Consultations_DependentUserId";

ALTER TABLE "UserReports" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "UserPromotions" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "StoreUsers" ADD "StoreId" uuid;

ALTER TABLE "StoreUserRoles" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Stores" ALTER COLUMN "Phone" DROP NOT NULL;

ALTER TABLE "Stores" ALTER COLUMN "AvatarPath" DROP NOT NULL;

ALTER TABLE "Stores" ADD "AdministratorUserId" uuid;

ALTER TABLE "StoreAddresses" ALTER COLUMN "WardName" TYPE character varying(255);

ALTER TABLE "StoreAddresses" ALTER COLUMN "WardCode" TYPE character varying(255);

ALTER TABLE "StoreAddresses" ALTER COLUMN "ProvinceName" TYPE character varying(255);

ALTER TABLE "StoreAddresses" ALTER COLUMN "DistrictName" TYPE character varying(255);

ALTER TABLE "StoreAddresses" ALTER COLUMN "Address" TYPE character varying(255);

ALTER TABLE "StoreAddresses" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "StockHistories" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Reports" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Promotions" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "ProductVariants" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "ProductVariants" ADD "ProductId1" uuid;

ALTER TABLE "Products" ADD "ConsultationId" uuid;

ALTER TABLE "Products" ADD "IsActive" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Products" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "ProductReports" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "ProductPromotions" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "ProductPromotions" ADD "ProductId1" uuid;

ALTER TABLE "ProductPromotions" ADD "PromotionId1" uuid;

ALTER TABLE "ProductItems" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "ProductItems" ADD "StockId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';

ALTER TABLE "ProductImages" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "ProductImages" ADD "IsMain" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "ProductImages" ADD "Order" integer NOT NULL DEFAULT 0;

ALTER TABLE "ProductCategories" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "PaymentMethods" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "PaymentMethodHistories" ADD "Amount" numeric;

ALTER TABLE "PaymentMethodHistories" ADD "CustomerPaymentMethodId" uuid;

ALTER TABLE "PaymentMethodHistories" ADD "CustomerUserId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';

ALTER TABLE "PaymentMethodHistories" ADD "OrderId" uuid;

ALTER TABLE "PaymentMethodHistories" ADD "Points" integer;

ALTER TABLE "PaymentMethodHistories" ADD "PromotionId" uuid;

ALTER TABLE "PaymentMethodHistories" ADD "WalletId" uuid;

ALTER TABLE "OTPData" ALTER COLUMN "IsDeleted" SET DEFAULT FALSE;

ALTER TABLE "OTPData" ADD "CreatedById" uuid;

ALTER TABLE "OTPData" ADD "CreationDate" timestamp with time zone;

ALTER TABLE "OTPData" ADD "DeleteById" uuid;

ALTER TABLE "OTPData" ADD "DeletionDate" timestamp with time zone;

ALTER TABLE "OTPData" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "OTPData" ADD "ModificationById" uuid;

ALTER TABLE "OTPData" ADD "ModificationDate" timestamp with time zone;

ALTER TABLE "OrderStatuses" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Orders" ALTER COLUMN "OrderGhnCode" DROP NOT NULL;

ALTER TABLE "Orders" ADD "Address" text NOT NULL DEFAULT '';

ALTER TABLE "Orders" ADD "CancelledAt" timestamp with time zone;

ALTER TABLE "Orders" ADD "ConfirmedAt" timestamp with time zone;

ALTER TABLE "Orders" ADD "EarnedPoints" integer NOT NULL DEFAULT 0;

ALTER TABLE "Orders" ADD "FinalPrice" numeric NOT NULL DEFAULT 0.0;

ALTER TABLE "Orders" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Orders" ADD "OrderNote" text;

ALTER TABLE "Orders" ADD "PaymentStatus_Amount" numeric NOT NULL DEFAULT 0.0;

ALTER TABLE "Orders" ADD "PaymentStatus_CustomerUserId" uuid;

ALTER TABLE "Orders" ADD "PaymentStatus_PayedById" uuid;

ALTER TABLE "Orders" ADD "PaymentStatus_PaymentDate" timestamp with time zone NOT NULL DEFAULT TIMESTAMPTZ '-infinity';

ALTER TABLE "Orders" ADD "PaymentStatus_PaymentMethod" text NOT NULL DEFAULT '';

ALTER TABLE "Orders" ADD "ShippingStatus_ShipSource" text;

ALTER TABLE "Orders" ADD "ShippingStatus_Status" integer;

ALTER TABLE "Orders" ADD "ShippingStatus_TrackingCode" text;

ALTER TABLE "Orders" ADD "ShippingStatus_TrackingMessage" text;

ALTER TABLE "Orders" ADD "ShippingStatus_TrackingTime" timestamp with time zone;

ALTER TABLE "Orders" ADD "ShippingStatus_TrackingUrl" text;

ALTER TABLE "Orders" ADD "UsedPoints" integer NOT NULL DEFAULT 0;

ALTER TABLE "OrderDetails" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Messages" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "CustomerUsers" ADD "WalletId" uuid;

ALTER TABLE "CustomerRanks" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "CustomerPaymentMethods" ADD "CustomerUserId" uuid;

ALTER TABLE "CustomerPaymentMethods" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "CustomerPaymentMethods" ADD "PaymentMethodId1" uuid;

ALTER TABLE "CustomerAddresses" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Conversations" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Conversations" ADD "Name" text NOT NULL DEFAULT '';

ALTER TABLE "Consultations" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Categories" ALTER COLUMN "Name" TYPE character varying(100);

ALTER TABLE "Categories" ALTER COLUMN "Description" TYPE character varying(10000);

ALTER TABLE "Categories" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "CartItem" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Cart" ALTER COLUMN "StoreUserId" DROP NOT NULL;

ALTER TABLE "Cart" ADD "IsConsultantUserRecommend" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Cart" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "AspNetUsers" ALTER COLUMN "Gender" SET DEFAULT 'Unknown';

ALTER TABLE "AspNetUsers" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "AspNetRoles" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "Addresses" ADD "IsHardDelete" boolean NOT NULL DEFAULT FALSE;

ALTER TABLE "ProductCategories" ADD CONSTRAINT "PK_ProductCategories" PRIMARY KEY ("ProductId", "CategoryId");

CREATE TABLE "ConversationMembers" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "IsHardDelete" boolean NOT NULL,
    "ConversationId" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    CONSTRAINT "PK_ConversationMembers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ConversationMembers_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ConversationMembers_Conversations_ConversationId" FOREIGN KEY ("ConversationId") REFERENCES "Conversations" ("Id") ON DELETE CASCADE
);

CREATE TABLE "ProductReviews" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "IsHardDelete" boolean NOT NULL,
    "ReviewText" text NOT NULL,
    "Rating" integer NOT NULL,
    "ProductId" uuid NOT NULL,
    "CustomerId" uuid NOT NULL,
    CONSTRAINT "PK_ProductReviews" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductReviews_CustomerUsers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "CustomerUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductReviews_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);

CREATE TABLE "Stocks" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "IsHardDelete" boolean NOT NULL,
    "Quantity" integer NOT NULL,
    "ReservedQuantity" integer NOT NULL,
    "AvailableQuantity" integer NOT NULL,
    "SoldQuantity" integer NOT NULL,
    "ReturnedQuantity" integer NOT NULL,
    "DamagedQuantity" integer NOT NULL,
    "ProductItemId" uuid NOT NULL,
    CONSTRAINT "PK_Stocks" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Stocks_ProductItems_ProductItemId" FOREIGN KEY ("ProductItemId") REFERENCES "ProductItems" ("Id") ON DELETE CASCADE
);

CREATE TABLE "Wallets" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "IsHardDelete" boolean NOT NULL,
    "Balance" integer NOT NULL,
    "Points" integer NOT NULL,
    "TotalSpent" integer NOT NULL,
    "TotalReceived" integer NOT NULL,
    "TotalRefunded" integer NOT NULL,
    CONSTRAINT "PK_Wallets" PRIMARY KEY ("Id")
);

UPDATE "AspNetRoles" SET "IsHardDelete" = FALSE
WHERE "Id" = '0c09b112-baf9-4ec3-bc79-cce452219d60';

UPDATE "AspNetRoles" SET "IsHardDelete" = FALSE
WHERE "Id" = '0e61cc83-d3c4-43b1-9334-8dd0c9d22833';

UPDATE "AspNetRoles" SET "IsHardDelete" = FALSE
WHERE "Id" = '2c8499d3-6ec2-4745-b2f7-6e33182f6f6f';

UPDATE "AspNetRoles" SET "IsHardDelete" = FALSE
WHERE "Id" = '5c2cb3f3-d9b1-4d5f-8a9c-1e6f689ee0f4';

UPDATE "AspNetRoles" SET "IsHardDelete" = FALSE
WHERE "Id" = '60cb3e42-0903-4c3f-8e9c-bfdc6f6a1a01';

UPDATE "AspNetRoles" SET "IsHardDelete" = FALSE
WHERE "Id" = 'a2a02247-2a41-4a38-8804-4be8038fa78b';

UPDATE "AspNetRoles" SET "IsHardDelete" = FALSE
WHERE "Id" = 'c66a403b-e1f9-47f3-9f6b-d8c3913b7a1b';

UPDATE "AspNetUsers" SET "ConcurrencyStamp" = 'bd5692b4-e4cb-4230-af9b-5be397689aab', "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.46927Z', "IsHardDelete" = FALSE, "PasswordHash" = 'AQAAAAIAAYagAAAAEFS/qrGaKPFRdTLke/11NXn8ALdaBNYEMaqoFWixh790RIZ0A2wpSy64W9j1BMpcsQ=='
WHERE "Id" = '9878ee32-2ead-4165-9e44-e510ba1bae29';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396701Z', "IsHardDelete" = FALSE
WHERE "Id" = '11111111-1111-1111-1111-111111111111';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396705Z', "IsHardDelete" = FALSE
WHERE "Id" = '11111111-1111-1111-1111-111111111112';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396705Z', "IsHardDelete" = FALSE
WHERE "Id" = '11111111-1111-1111-1111-111111111113';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396706Z', "IsHardDelete" = FALSE
WHERE "Id" = '11111111-1111-1111-1111-111111111114';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396702Z', "IsHardDelete" = FALSE
WHERE "Id" = '22222222-2222-2222-2222-222222222222';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396706Z', "IsHardDelete" = FALSE
WHERE "Id" = '22222222-2222-2222-2222-222222222223';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396707Z', "IsHardDelete" = FALSE
WHERE "Id" = '22222222-2222-2222-2222-222222222224';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396702Z', "IsHardDelete" = FALSE
WHERE "Id" = '33333333-3333-3333-3333-333333333333';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396707Z', "IsHardDelete" = FALSE
WHERE "Id" = '33333333-3333-3333-3333-333333333334';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396707Z', "IsHardDelete" = FALSE
WHERE "Id" = '33333333-3333-3333-3333-333333333335';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.396705Z', "IsHardDelete" = FALSE
WHERE "Id" = '44444444-4444-4444-4444-444444444444';

INSERT INTO "ProductCategories" ("CategoryId", "ProductId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate")
VALUES ('11111111-1111-1111-1111-111111111112', '11111111-1111-1111-1111-111111111121', NULL, NULL, NULL, NULL, FALSE, NULL, NULL);
INSERT INTO "ProductCategories" ("CategoryId", "ProductId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate")
VALUES ('11111111-1111-1111-1111-111111111113', '11111111-1111-1111-1111-111111111122', NULL, NULL, NULL, NULL, FALSE, NULL, NULL);
INSERT INTO "ProductCategories" ("CategoryId", "ProductId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate")
VALUES ('11111111-1111-1111-1111-111111111114', '11111111-1111-1111-1111-111111111123', NULL, NULL, NULL, NULL, FALSE, NULL, NULL);
INSERT INTO "ProductCategories" ("CategoryId", "ProductId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate")
VALUES ('22222222-2222-2222-2222-222222222223', '22222222-2222-2222-2222-222222222225', NULL, NULL, NULL, NULL, FALSE, NULL, NULL);
INSERT INTO "ProductCategories" ("CategoryId", "ProductId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate")
VALUES ('22222222-2222-2222-2222-222222222224', '22222222-2222-2222-2222-222222222226', NULL, NULL, NULL, NULL, FALSE, NULL, NULL);
INSERT INTO "ProductCategories" ("CategoryId", "ProductId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate")
VALUES ('33333333-3333-3333-3333-333333333334', '33333333-3333-3333-3333-333333333336', NULL, NULL, NULL, NULL, FALSE, NULL, NULL);
INSERT INTO "ProductCategories" ("CategoryId", "ProductId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate")
VALUES ('33333333-3333-3333-3333-333333333335', '33333333-3333-3333-3333-333333333337', NULL, NULL, NULL, NULL, FALSE, NULL, NULL);
INSERT INTO "ProductCategories" ("CategoryId", "ProductId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate")
VALUES ('44444444-4444-4444-4444-444444444444', '44444444-4444-4444-4444-444444444445', NULL, NULL, NULL, NULL, FALSE, NULL, NULL);
INSERT INTO "ProductCategories" ("CategoryId", "ProductId", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate")
VALUES ('44444444-4444-4444-4444-444444444444', '44444444-4444-4444-4444-444444444446', NULL, NULL, NULL, NULL, FALSE, NULL, NULL);

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416998Z', "IsHardDelete" = FALSE, "IsMain" = FALSE, "Order" = 0
WHERE "Id" = '11111111-1111-1111-1111-111111111151';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416998Z', "IsHardDelete" = FALSE, "IsMain" = FALSE, "Order" = 0
WHERE "Id" = '11111111-1111-1111-1111-111111111152';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416998Z', "IsHardDelete" = FALSE, "IsMain" = FALSE, "Order" = 0
WHERE "Id" = '22222222-2222-2222-2222-222222222232';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416999Z', "IsHardDelete" = FALSE, "IsMain" = FALSE, "Order" = 0
WHERE "Id" = '33333333-3333-3333-3333-333333333343';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416999Z', "IsHardDelete" = FALSE, "IsMain" = FALSE, "Order" = 0
WHERE "Id" = '33333333-3333-3333-3333-333333333344';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416747Z', "IsHardDelete" = FALSE, "StockId" = '00000000-0000-0000-0000-000000000000'
WHERE "Id" = '11111111-1111-1111-1111-111111111141';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416748Z', "IsHardDelete" = FALSE, "StockId" = '00000000-0000-0000-0000-000000000000'
WHERE "Id" = '11111111-1111-1111-1111-111111111142';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416749Z', "IsHardDelete" = FALSE, "StockId" = '00000000-0000-0000-0000-000000000000'
WHERE "Id" = '22222222-2222-2222-2222-222222222230';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416749Z', "IsHardDelete" = FALSE, "StockId" = '00000000-0000-0000-0000-000000000000'
WHERE "Id" = '22222222-2222-2222-2222-222222222231';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.41675Z', "IsHardDelete" = FALSE, "StockId" = '00000000-0000-0000-0000-000000000000'
WHERE "Id" = '33333333-3333-3333-3333-333333333341';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.41675Z', "IsHardDelete" = FALSE, "StockId" = '00000000-0000-0000-0000-000000000000'
WHERE "Id" = '33333333-3333-3333-3333-333333333342';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416446Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '11111111-1111-1111-1111-111111111131';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416448Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '11111111-1111-1111-1111-111111111132';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416449Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '11111111-1111-1111-1111-111111111133';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416449Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '11111111-1111-1111-1111-111111111134';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416449Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '22222222-2222-2222-2222-222222222227';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.41645Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '22222222-2222-2222-2222-222222222228';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.41645Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '22222222-2222-2222-2222-222222222229';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416451Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '33333333-3333-3333-3333-333333333338';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416451Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '33333333-3333-3333-3333-333333333339';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416451Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '33333333-3333-3333-3333-333333333340';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416452Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '44444444-4444-4444-4444-444444444447';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.416452Z', "IsHardDelete" = FALSE, "ProductId1" = NULL
WHERE "Id" = '44444444-4444-4444-4444-444444444448';

UPDATE "Products" SET "ConsultationId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.414677Z', "IsActive" = TRUE, "IsHardDelete" = FALSE
WHERE "Id" = '11111111-1111-1111-1111-111111111121';

UPDATE "Products" SET "ConsultationId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.414678Z', "IsActive" = TRUE, "IsHardDelete" = FALSE
WHERE "Id" = '11111111-1111-1111-1111-111111111122';

UPDATE "Products" SET "ConsultationId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.414678Z', "IsActive" = TRUE, "IsHardDelete" = FALSE
WHERE "Id" = '11111111-1111-1111-1111-111111111123';

UPDATE "Products" SET "ConsultationId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.414678Z', "IsActive" = TRUE, "IsHardDelete" = FALSE
WHERE "Id" = '22222222-2222-2222-2222-222222222225';

UPDATE "Products" SET "ConsultationId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.41468Z', "IsActive" = TRUE, "IsHardDelete" = FALSE
WHERE "Id" = '22222222-2222-2222-2222-222222222226';

UPDATE "Products" SET "ConsultationId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.41468Z', "IsActive" = TRUE, "IsHardDelete" = FALSE
WHERE "Id" = '33333333-3333-3333-3333-333333333336';

UPDATE "Products" SET "ConsultationId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.41468Z', "IsActive" = TRUE, "IsHardDelete" = FALSE
WHERE "Id" = '33333333-3333-3333-3333-333333333337';

UPDATE "Products" SET "ConsultationId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.414681Z', "IsActive" = TRUE, "IsHardDelete" = FALSE
WHERE "Id" = '44444444-4444-4444-4444-444444444445';

UPDATE "Products" SET "ConsultationId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.414681Z', "IsActive" = TRUE, "IsHardDelete" = FALSE
WHERE "Id" = '44444444-4444-4444-4444-444444444446';

INSERT INTO "Stocks" ("Id", "AvailableQuantity", "CreatedById", "CreationDate", "DamagedQuantity", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate", "ProductItemId", "Quantity", "ReservedQuantity", "ReturnedQuantity", "SoldQuantity")
VALUES ('11111111-1111-1111-1111-111111111161', 25, NULL, TIMESTAMPTZ '2025-07-12T17:31:33.423311Z', 0, NULL, NULL, FALSE, NULL, NULL, '11111111-1111-1111-1111-111111111141', 25, 0, 0, 0);
INSERT INTO "Stocks" ("Id", "AvailableQuantity", "CreatedById", "CreationDate", "DamagedQuantity", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate", "ProductItemId", "Quantity", "ReservedQuantity", "ReturnedQuantity", "SoldQuantity")
VALUES ('11111111-1111-1111-1111-111111111162', 15, NULL, TIMESTAMPTZ '2025-07-12T17:31:33.423312Z', 0, NULL, NULL, FALSE, NULL, NULL, '11111111-1111-1111-1111-111111111142', 15, 0, 0, 0);
INSERT INTO "Stocks" ("Id", "AvailableQuantity", "CreatedById", "CreationDate", "DamagedQuantity", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate", "ProductItemId", "Quantity", "ReservedQuantity", "ReturnedQuantity", "SoldQuantity")
VALUES ('22222222-2222-2222-2222-222222222242', 50, NULL, TIMESTAMPTZ '2025-07-12T17:31:33.423312Z', 0, NULL, NULL, FALSE, NULL, NULL, '22222222-2222-2222-2222-222222222230', 50, 0, 0, 0);
INSERT INTO "Stocks" ("Id", "AvailableQuantity", "CreatedById", "CreationDate", "DamagedQuantity", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate", "ProductItemId", "Quantity", "ReservedQuantity", "ReturnedQuantity", "SoldQuantity")
VALUES ('22222222-2222-2222-2222-222222222243', 75, NULL, TIMESTAMPTZ '2025-07-12T17:31:33.423313Z', 0, NULL, NULL, FALSE, NULL, NULL, '22222222-2222-2222-2222-222222222231', 75, 0, 0, 0);
INSERT INTO "Stocks" ("Id", "AvailableQuantity", "CreatedById", "CreationDate", "DamagedQuantity", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate", "ProductItemId", "Quantity", "ReservedQuantity", "ReturnedQuantity", "SoldQuantity")
VALUES ('33333333-3333-3333-3333-333333333353', 20, NULL, TIMESTAMPTZ '2025-07-12T17:31:33.423313Z', 0, NULL, NULL, FALSE, NULL, NULL, '33333333-3333-3333-3333-333333333341', 20, 0, 0, 0);
INSERT INTO "Stocks" ("Id", "AvailableQuantity", "CreatedById", "CreationDate", "DamagedQuantity", "DeleteById", "DeletionDate", "IsHardDelete", "ModificationById", "ModificationDate", "ProductItemId", "Quantity", "ReservedQuantity", "ReturnedQuantity", "SoldQuantity")
VALUES ('33333333-3333-3333-3333-333333333354', 8, NULL, TIMESTAMPTZ '2025-07-12T17:31:33.423314Z', 0, NULL, NULL, FALSE, NULL, NULL, '33333333-3333-3333-3333-333333333342', 8, 0, 0, 0);

UPDATE "StoreAddresses" SET "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.418388Z', "IsHardDelete" = FALSE
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa';

UPDATE "Stores" SET "AdministratorUserId" = NULL, "CreationDate" = TIMESTAMPTZ '2025-07-12T17:31:33.424138Z'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab';

CREATE INDEX "IX_StoreUsers_StoreId" ON "StoreUsers" ("StoreId");

CREATE INDEX "IX_Stores_AdministratorUserId" ON "Stores" ("AdministratorUserId");

CREATE INDEX "IX_ProductVariants_ProductId1" ON "ProductVariants" ("ProductId1");

CREATE INDEX "IX_Products_ConsultationId" ON "Products" ("ConsultationId");

CREATE INDEX "IX_ProductPromotions_ProductId1" ON "ProductPromotions" ("ProductId1");

CREATE INDEX "IX_ProductPromotions_PromotionId1" ON "ProductPromotions" ("PromotionId1");

CREATE INDEX "IX_PaymentMethodHistories_CustomerPaymentMethodId" ON "PaymentMethodHistories" ("CustomerPaymentMethodId");

CREATE INDEX "IX_PaymentMethodHistories_CustomerUserId" ON "PaymentMethodHistories" ("CustomerUserId");

CREATE INDEX "IX_PaymentMethodHistories_OrderId" ON "PaymentMethodHistories" ("OrderId");

CREATE INDEX "IX_PaymentMethodHistories_PromotionId" ON "PaymentMethodHistories" ("PromotionId");

CREATE INDEX "IX_PaymentMethodHistories_WalletId" ON "PaymentMethodHistories" ("WalletId");

CREATE INDEX "IX_Orders_PaymentStatus_CustomerUserId" ON "Orders" ("PaymentStatus_CustomerUserId");

CREATE INDEX "IX_CustomerUsers_WalletId" ON "CustomerUsers" ("WalletId");

CREATE INDEX "IX_CustomerPaymentMethods_CustomerUserId" ON "CustomerPaymentMethods" ("CustomerUserId");

CREATE INDEX "IX_CustomerPaymentMethods_PaymentMethodId1" ON "CustomerPaymentMethods" ("PaymentMethodId1");

CREATE INDEX "IX_ConversationMembers_ConversationId" ON "ConversationMembers" ("ConversationId");

CREATE INDEX "IX_ConversationMembers_UserId" ON "ConversationMembers" ("UserId");

CREATE INDEX "IX_ProductReviews_CustomerId" ON "ProductReviews" ("CustomerId");

CREATE INDEX "IX_ProductReviews_ProductId" ON "ProductReviews" ("ProductId");

CREATE UNIQUE INDEX "IX_Stocks_ProductItemId" ON "Stocks" ("ProductItemId");

ALTER TABLE "Cart" ADD CONSTRAINT "FK_Cart_StoreUsers_StoreUserId" FOREIGN KEY ("StoreUserId") REFERENCES "StoreUsers" ("Id");

ALTER TABLE "Consultations" ADD CONSTRAINT "FK_Consultations_ConsultantUsers_ConsultantId" FOREIGN KEY ("ConsultantId") REFERENCES "ConsultantUsers" ("Id") ON DELETE CASCADE;

ALTER TABLE "Consultations" ADD CONSTRAINT "FK_Consultations_DependentUsers_DependentUserId" FOREIGN KEY ("DependentUserId") REFERENCES "DependentUsers" ("Id") ON DELETE CASCADE;

ALTER TABLE "CustomerPaymentMethods" ADD CONSTRAINT "FK_CustomerPaymentMethods_CustomerUsers_CustomerUserId" FOREIGN KEY ("CustomerUserId") REFERENCES "CustomerUsers" ("Id");

ALTER TABLE "CustomerPaymentMethods" ADD CONSTRAINT "FK_CustomerPaymentMethods_PaymentMethods_PaymentMethodId1" FOREIGN KEY ("PaymentMethodId1") REFERENCES "PaymentMethods" ("Id");

ALTER TABLE "CustomerUsers" ADD CONSTRAINT "FK_CustomerUsers_Wallets_WalletId" FOREIGN KEY ("WalletId") REFERENCES "Wallets" ("Id");

ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_CustomerUsers_PaymentStatus_CustomerUserId" FOREIGN KEY ("PaymentStatus_CustomerUserId") REFERENCES "CustomerUsers" ("Id");

ALTER TABLE "PaymentMethodHistories" ADD CONSTRAINT "FK_PaymentMethodHistories_CustomerPaymentMethods_CustomerPayme~" FOREIGN KEY ("CustomerPaymentMethodId") REFERENCES "CustomerPaymentMethods" ("Id");

ALTER TABLE "PaymentMethodHistories" ADD CONSTRAINT "FK_PaymentMethodHistories_CustomerUsers_CustomerUserId" FOREIGN KEY ("CustomerUserId") REFERENCES "CustomerUsers" ("Id") ON DELETE CASCADE;

ALTER TABLE "PaymentMethodHistories" ADD CONSTRAINT "FK_PaymentMethodHistories_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id");

ALTER TABLE "PaymentMethodHistories" ADD CONSTRAINT "FK_PaymentMethodHistories_Promotions_PromotionId" FOREIGN KEY ("PromotionId") REFERENCES "Promotions" ("Id");

ALTER TABLE "PaymentMethodHistories" ADD CONSTRAINT "FK_PaymentMethodHistories_Wallets_WalletId" FOREIGN KEY ("WalletId") REFERENCES "Wallets" ("Id") ON DELETE SET NULL;

ALTER TABLE "ProductPromotions" ADD CONSTRAINT "FK_ProductPromotions_Products_ProductId1" FOREIGN KEY ("ProductId1") REFERENCES "Products" ("Id");

ALTER TABLE "ProductPromotions" ADD CONSTRAINT "FK_ProductPromotions_Promotions_PromotionId1" FOREIGN KEY ("PromotionId1") REFERENCES "Promotions" ("Id");

ALTER TABLE "Products" ADD CONSTRAINT "FK_Products_Consultations_ConsultationId" FOREIGN KEY ("ConsultationId") REFERENCES "Consultations" ("Id");

ALTER TABLE "ProductVariants" ADD CONSTRAINT "FK_ProductVariants_Products_ProductId1" FOREIGN KEY ("ProductId1") REFERENCES "Products" ("Id");

ALTER TABLE "Stores" ADD CONSTRAINT "FK_Stores_AdministratorUsers_AdministratorUserId" FOREIGN KEY ("AdministratorUserId") REFERENCES "AdministratorUsers" ("Id");

ALTER TABLE "StoreUsers" ADD CONSTRAINT "FK_StoreUsers_Stores_StoreId" FOREIGN KEY ("StoreId") REFERENCES "Stores" ("Id");

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250712173134_Update_New_DB', '8.0.15');

COMMIT;

START TRANSACTION;

DELETE FROM "CustomerRoles"
WHERE "Id" = '2c8499d3-6ec2-4745-b2f7-6e33182f6f6f';

DELETE FROM "AspNetRoles"
WHERE "Id" = '2c8499d3-6ec2-4745-b2f7-6e33182f6f6f';

ALTER TABLE "Categories" DROP COLUMN "CreatedDate";

ALTER TABLE "ConsultantRoles" ALTER COLUMN "RoleName" TYPE text;

ALTER TABLE "Categories" ADD "ImageUrl" text;

UPDATE "AspNetRoles" SET "Description" = 'Người giám hộ là người giám hộ cho người phụ thuộc và có quyền giám hộ cho người phụ thuộc.', "NormalizedName" = 'Người giám hộ'
WHERE "Id" = '0c09b112-baf9-4ec3-bc79-cce452219d60';

UPDATE "AspNetRoles" SET "Description" = 'Quản trị viên là người quản lý cửa hàng và có quyền quản lý cửa hàng.', "NormalizedName" = 'Quản trị viên'
WHERE "Id" = '0e61cc83-d3c4-43b1-9334-8dd0c9d22833';

UPDATE "AspNetRoles" SET "Description" = 'Siêu quản trị viên là người quản lý toàn bộ hệ thống và có quyền quản lý toàn bộ hệ thống.', "NormalizedName" = 'Siêu quản trị viên'
WHERE "Id" = '5c2cb3f3-d9b1-4d5f-8a9c-1e6f689ee0f4';

UPDATE "AspNetRoles" SET "Description" = 'Chủ cửa hàng là người quản lý cửa hàng và có quyền quản lý cửa hàng.', "NormalizedName" = 'Chủ cửa hàng'
WHERE "Id" = '60cb3e42-0903-4c3f-8e9c-bfdc6f6a1a01';

UPDATE "AspNetRoles" SET "Description" = 'Hỗ trợ cửa hàng là người hỗ trợ cửa hàng và có quyền hỗ trợ cửa hàng.', "NormalizedName" = 'Hỗ trợ cửa hàng'
WHERE "Id" = 'a2a02247-2a41-4a38-8804-4be8038fa78b';

UPDATE "AspNetRoles" SET "Description" = 'Người phụ thuộc là người phụ thuộc cho người giám hộ và có quyền phụ thuộc cho người giám hộ.', "NormalizedName" = 'Người phụ thuộc'
WHERE "Id" = 'c66a403b-e1f9-47f3-9f6b-d8c3913b7a1b';

UPDATE "AspNetUsers" SET "ConcurrencyStamp" = '437c89a4-6cd4-4f97-94e6-6be67c8e056f', "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.076502Z', "PasswordHash" = 'AQAAAAIAAYagAAAAEAUkz2vCBhY+gykPhZMUdwWKnkQqWMX1FjtggImuF+XaKDhieSvyNK6MlBbAvg+PTg=='
WHERE "Id" = '9878ee32-2ead-4165-9e44-e510ba1bae29';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009773Z', "ImageUrl" = NULL
WHERE "Id" = '11111111-1111-1111-1111-111111111111';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009775Z', "ImageUrl" = NULL
WHERE "Id" = '11111111-1111-1111-1111-111111111112';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009776Z', "ImageUrl" = NULL
WHERE "Id" = '11111111-1111-1111-1111-111111111113';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009776Z', "ImageUrl" = NULL
WHERE "Id" = '11111111-1111-1111-1111-111111111114';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009774Z', "ImageUrl" = NULL
WHERE "Id" = '22222222-2222-2222-2222-222222222222';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009779Z', "ImageUrl" = NULL
WHERE "Id" = '22222222-2222-2222-2222-222222222223';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.00978Z', "ImageUrl" = NULL
WHERE "Id" = '22222222-2222-2222-2222-222222222224';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009774Z', "ImageUrl" = NULL
WHERE "Id" = '33333333-3333-3333-3333-333333333333';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.00978Z', "ImageUrl" = NULL
WHERE "Id" = '33333333-3333-3333-3333-333333333334';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.00978Z', "ImageUrl" = NULL
WHERE "Id" = '33333333-3333-3333-3333-333333333335';

UPDATE "Categories" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009774Z', "ImageUrl" = NULL
WHERE "Id" = '44444444-4444-4444-4444-444444444444';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029412Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111151';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029412Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111152';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029413Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222232';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029413Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333343';

UPDATE "ProductImages" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029414Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333344';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029131Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111141';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029132Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111142';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029132Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222230';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029133Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222231';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029133Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333341';

UPDATE "ProductItems" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.029134Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333342';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.028731Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111131';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.028733Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111132';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.028733Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111133';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.028734Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111134';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.028735Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222227';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.028735Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222228';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.02874Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222229';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.02874Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333338';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.02874Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333339';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.02874Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333340';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.028741Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444447';

UPDATE "ProductVariants" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.028741Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444448';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.027042Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111121';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.027046Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111122';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.027047Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111123';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.027047Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222225';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.027048Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222226';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.027049Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333336';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.027049Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333337';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.027049Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444445';

UPDATE "Products" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.02705Z'
WHERE "Id" = '44444444-4444-4444-4444-444444444446';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.035158Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111161';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.035158Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111162';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.035159Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222242';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.035159Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222243';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.03516Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333353';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.03516Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333354';

UPDATE "StoreAddresses" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.030818Z'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa';

UPDATE "Stores" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.035753Z'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab';

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250715130519_Role_Update', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "CustomerPaymentMethods" DROP CONSTRAINT "FK_CustomerPaymentMethods_CustomerUsers_CustomerUserId";

ALTER TABLE "CustomerPaymentMethods" DROP CONSTRAINT "FK_CustomerPaymentMethods_PaymentMethods_PaymentMethodId1";

ALTER TABLE "PaymentMethodHistories" DROP CONSTRAINT "FK_PaymentMethodHistories_CustomerPaymentMethods_CustomerPayme~";

ALTER TABLE "PaymentMethodHistories" DROP CONSTRAINT "FK_PaymentMethodHistories_CustomerUsers_CustomerUserId";

ALTER TABLE "PaymentMethodHistories" DROP CONSTRAINT "FK_PaymentMethodHistories_Orders_OrderId";

ALTER TABLE "PaymentMethodHistories" DROP CONSTRAINT "FK_PaymentMethodHistories_PaymentMethods_PaymentMethodId";

ALTER TABLE "PaymentMethodHistories" DROP CONSTRAINT "FK_PaymentMethodHistories_Promotions_PromotionId";

ALTER TABLE "PaymentMethodHistories" DROP CONSTRAINT "FK_PaymentMethodHistories_Wallets_WalletId";

ALTER TABLE "ProductImages" DROP CONSTRAINT "FK_ProductImages_ProductItems_ProductItemId";

ALTER TABLE "ProductItems" DROP CONSTRAINT "FK_ProductItems_Stores_StoreId";

ALTER TABLE "ProductPromotions" DROP CONSTRAINT "FK_ProductPromotions_Products_ProductId1";

ALTER TABLE "ProductPromotions" DROP CONSTRAINT "FK_ProductPromotions_Promotions_PromotionId1";

ALTER TABLE "ProductVariants" DROP CONSTRAINT "FK_ProductVariants_Products_ProductId1";

DROP INDEX "IX_ProductVariants_ProductId1";

ALTER TABLE "ProductPromotions" DROP CONSTRAINT "PK_ProductPromotions";

DROP INDEX "IX_ProductPromotions_ProductId";

DROP INDEX "IX_ProductPromotions_ProductId1";

DROP INDEX "IX_ProductPromotions_PromotionId1";

DROP INDEX "IX_ProductItems_StoreId";

DROP INDEX "IX_CustomerPaymentMethods_CustomerUserId";

DROP INDEX "IX_CustomerPaymentMethods_PaymentMethodId1";

ALTER TABLE "PaymentMethodHistories" DROP CONSTRAINT "PK_PaymentMethodHistories";

DELETE FROM "ProductCategories"
WHERE "CategoryId" = '11111111-1111-1111-1111-111111111112' AND "ProductId" = '11111111-1111-1111-1111-111111111121';

DELETE FROM "ProductCategories"
WHERE "CategoryId" = '11111111-1111-1111-1111-111111111113' AND "ProductId" = '11111111-1111-1111-1111-111111111122';

DELETE FROM "ProductCategories"
WHERE "CategoryId" = '11111111-1111-1111-1111-111111111114' AND "ProductId" = '11111111-1111-1111-1111-111111111123';

DELETE FROM "ProductCategories"
WHERE "CategoryId" = '22222222-2222-2222-2222-222222222223' AND "ProductId" = '22222222-2222-2222-2222-222222222225';

DELETE FROM "ProductCategories"
WHERE "CategoryId" = '22222222-2222-2222-2222-222222222224' AND "ProductId" = '22222222-2222-2222-2222-222222222226';

DELETE FROM "ProductCategories"
WHERE "CategoryId" = '33333333-3333-3333-3333-333333333334' AND "ProductId" = '33333333-3333-3333-3333-333333333336';

DELETE FROM "ProductCategories"
WHERE "CategoryId" = '33333333-3333-3333-3333-333333333335' AND "ProductId" = '33333333-3333-3333-3333-333333333337';

DELETE FROM "ProductCategories"
WHERE "CategoryId" = '44444444-4444-4444-4444-444444444444' AND "ProductId" = '44444444-4444-4444-4444-444444444445';

DELETE FROM "ProductCategories"
WHERE "CategoryId" = '44444444-4444-4444-4444-444444444444' AND "ProductId" = '44444444-4444-4444-4444-444444444446';

DELETE FROM "ProductImages"
WHERE "Id" = '11111111-1111-1111-1111-111111111151';

DELETE FROM "ProductImages"
WHERE "Id" = '11111111-1111-1111-1111-111111111152';

DELETE FROM "ProductImages"
WHERE "Id" = '22222222-2222-2222-2222-222222222232';

DELETE FROM "ProductImages"
WHERE "Id" = '33333333-3333-3333-3333-333333333343';

DELETE FROM "ProductImages"
WHERE "Id" = '33333333-3333-3333-3333-333333333344';

DELETE FROM "ProductItems"
WHERE "Id" = '11111111-1111-1111-1111-111111111142';

DELETE FROM "ProductItems"
WHERE "Id" = '22222222-2222-2222-2222-222222222231';

DELETE FROM "ProductVariants"
WHERE "Id" = '11111111-1111-1111-1111-111111111132';

DELETE FROM "ProductVariants"
WHERE "Id" = '11111111-1111-1111-1111-111111111134';

DELETE FROM "ProductVariants"
WHERE "Id" = '22222222-2222-2222-2222-222222222228';

DELETE FROM "ProductVariants"
WHERE "Id" = '33333333-3333-3333-3333-333333333339';

DELETE FROM "ProductVariants"
WHERE "Id" = '44444444-4444-4444-4444-444444444447';

DELETE FROM "ProductVariants"
WHERE "Id" = '44444444-4444-4444-4444-444444444448';

DELETE FROM "Categories"
WHERE "Id" = '11111111-1111-1111-1111-111111111112';

DELETE FROM "Categories"
WHERE "Id" = '11111111-1111-1111-1111-111111111113';

DELETE FROM "Categories"
WHERE "Id" = '11111111-1111-1111-1111-111111111114';

DELETE FROM "Categories"
WHERE "Id" = '22222222-2222-2222-2222-222222222223';

DELETE FROM "Categories"
WHERE "Id" = '22222222-2222-2222-2222-222222222224';

DELETE FROM "Categories"
WHERE "Id" = '33333333-3333-3333-3333-333333333334';

DELETE FROM "Categories"
WHERE "Id" = '33333333-3333-3333-3333-333333333335';

DELETE FROM "Categories"
WHERE "Id" = '44444444-4444-4444-4444-444444444444';

DELETE FROM "ProductItems"
WHERE "Id" = '11111111-1111-1111-1111-111111111141';

DELETE FROM "ProductItems"
WHERE "Id" = '22222222-2222-2222-2222-222222222230';

DELETE FROM "ProductItems"
WHERE "Id" = '33333333-3333-3333-3333-333333333341';

DELETE FROM "ProductItems"
WHERE "Id" = '33333333-3333-3333-3333-333333333342';

DELETE FROM "ProductVariants"
WHERE "Id" = '11111111-1111-1111-1111-111111111133';

DELETE FROM "ProductVariants"
WHERE "Id" = '22222222-2222-2222-2222-222222222229';

DELETE FROM "Products"
WHERE "Id" = '11111111-1111-1111-1111-111111111123';

DELETE FROM "Products"
WHERE "Id" = '44444444-4444-4444-4444-444444444445';

DELETE FROM "Products"
WHERE "Id" = '44444444-4444-4444-4444-444444444446';

DELETE FROM "Categories"
WHERE "Id" = '11111111-1111-1111-1111-111111111111';

DELETE FROM "Categories"
WHERE "Id" = '22222222-2222-2222-2222-222222222222';

DELETE FROM "Categories"
WHERE "Id" = '33333333-3333-3333-3333-333333333333';

DELETE FROM "ProductVariants"
WHERE "Id" = '11111111-1111-1111-1111-111111111131';

DELETE FROM "ProductVariants"
WHERE "Id" = '22222222-2222-2222-2222-222222222227';

DELETE FROM "ProductVariants"
WHERE "Id" = '33333333-3333-3333-3333-333333333338';

DELETE FROM "ProductVariants"
WHERE "Id" = '33333333-3333-3333-3333-333333333340';

DELETE FROM "Products"
WHERE "Id" = '11111111-1111-1111-1111-111111111122';

DELETE FROM "Products"
WHERE "Id" = '22222222-2222-2222-2222-222222222226';

DELETE FROM "Products"
WHERE "Id" = '11111111-1111-1111-1111-111111111121';

DELETE FROM "Products"
WHERE "Id" = '22222222-2222-2222-2222-222222222225';

DELETE FROM "Products"
WHERE "Id" = '33333333-3333-3333-3333-333333333336';

DELETE FROM "Products"
WHERE "Id" = '33333333-3333-3333-3333-333333333337';

ALTER TABLE "ProductVariants" DROP COLUMN "ProductId1";

ALTER TABLE "ProductPromotions" DROP COLUMN "Id";

ALTER TABLE "ProductPromotions" DROP COLUMN "IsDeleted";

ALTER TABLE "ProductPromotions" DROP COLUMN "ProductId1";

ALTER TABLE "ProductPromotions" DROP COLUMN "PromotionId1";

ALTER TABLE "ProductItems" DROP COLUMN "StoreId";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "CustomerUserId";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "PaymentMethodId1";

ALTER TABLE "PaymentMethodHistories" RENAME TO "PaymentHistories";

ALTER INDEX "IX_PaymentMethodHistories_WalletId" RENAME TO "IX_PaymentHistories_WalletId";

ALTER INDEX "IX_PaymentMethodHistories_PromotionId" RENAME TO "IX_PaymentHistories_PromotionId";

ALTER INDEX "IX_PaymentMethodHistories_PaymentMethodId" RENAME TO "IX_PaymentHistories_PaymentMethodId";

ALTER INDEX "IX_PaymentMethodHistories_OrderId" RENAME TO "IX_PaymentHistories_OrderId";

ALTER INDEX "IX_PaymentMethodHistories_CustomerUserId" RENAME TO "IX_PaymentHistories_CustomerUserId";

ALTER INDEX "IX_PaymentMethodHistories_CustomerPaymentMethodId" RENAME TO "IX_PaymentHistories_CustomerPaymentMethodId";

ALTER TABLE "Wallets" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "UserReports" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "UserPromotions" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Stores" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "StoreAddresses" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Stocks" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "StockHistories" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Reports" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Promotions" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "ProductVariants" ALTER COLUMN "VariantName" TYPE character varying(100);

ALTER TABLE "ProductVariants" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "ProductVariants" ALTER COLUMN "IsActive" SET DEFAULT TRUE;

ALTER TABLE "Products" ALTER COLUMN "Name" TYPE character varying(200);

ALTER TABLE "Products" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Products" ALTER COLUMN "Description" TYPE character varying(10000);
UPDATE "Products" SET "Description" = '' WHERE "Description" IS NULL;
ALTER TABLE "Products" ALTER COLUMN "Description" SET NOT NULL;
ALTER TABLE "Products" ALTER COLUMN "Description" SET DEFAULT '';

ALTER TABLE "Products" ADD "StoreId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';

ALTER TABLE "ProductReviews" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "ProductReports" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "ProductItems" ALTER COLUMN "SKU" TYPE character varying(50);

ALTER TABLE "ProductItems" ALTER COLUMN "OriginalPrice" TYPE numeric(18,2);

ALTER TABLE "ProductItems" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "ProductItems" ALTER COLUMN "IsActive" SET DEFAULT TRUE;

ALTER TABLE "ProductItems" ALTER COLUMN "DiscountedPrice" TYPE numeric(18,2);

ALTER TABLE "ProductImages" ALTER COLUMN "Order" SET DEFAULT 0;

ALTER TABLE "ProductImages" ALTER COLUMN "IsMain" SET DEFAULT FALSE;

ALTER TABLE "ProductImages" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "ProductImages" ALTER COLUMN "ImagePath" TYPE character varying(1000);

ALTER TABLE "ProductImages" ALTER COLUMN "ImageName" TYPE character varying(200);

ALTER TABLE "PaymentMethods" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "OTPData" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "OrderStatuses" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Orders" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "OrderDetails" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Messages" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "CustomerRanks" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "CustomerPaymentMethods" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "CustomerPaymentMethods" ALTER COLUMN "IsDefault" SET DEFAULT FALSE;

ALTER TABLE "CustomerAddresses" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Conversations" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "ConversationMembers" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Consultations" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Categories" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "CartItem" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Cart" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "Addresses" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "PaymentHistories" ALTER COLUMN "IsHardDelete" SET DEFAULT FALSE;

ALTER TABLE "ProductPromotions" ADD CONSTRAINT "PK_ProductPromotions" PRIMARY KEY ("ProductId", "PromotionId");

ALTER TABLE "PaymentHistories" ADD CONSTRAINT "PK_PaymentHistories" PRIMARY KEY ("Id");

UPDATE "AspNetUsers" SET "ConcurrencyStamp" = 'e8c0566e-8592-4ae3-835a-fc32683cfb81', "CreationDate" = TIMESTAMPTZ '2024-01-01T00:00:00Z', "PasswordHash" = 'AQAAAAIAAYagAAAAEAB4MIoYu22wkakMr7DAOVyUVeiiNxUEItF6hTfHpY5o4wmdOei89I8MWazPY0JOug=='
WHERE "Id" = '9878ee32-2ead-4165-9e44-e510ba1bae29';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009777Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111161';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009777Z'
WHERE "Id" = '11111111-1111-1111-1111-111111111162';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009778Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222242';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009778Z'
WHERE "Id" = '22222222-2222-2222-2222-222222222243';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009778Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333353';

UPDATE "Stocks" SET "CreationDate" = TIMESTAMPTZ '2025-07-15T13:05:19.009778Z'
WHERE "Id" = '33333333-3333-3333-3333-333333333354';

UPDATE "StoreAddresses" SET "Address" = '123 Đường Độc Lập', "CreationDate" = TIMESTAMPTZ '2024-01-01T00:00:00Z', "DistrictId" = 1, "ProvinceName" = 'TP.HCM', "WardCode" = '00001', "WardName" = 'Phường 1'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa';

UPDATE "Stores" SET "CreationDate" = TIMESTAMPTZ '2024-01-01T00:00:00Z'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab';

CREATE INDEX "IX_Products_StoreId" ON "Products" ("StoreId");

ALTER TABLE "PaymentHistories" ADD CONSTRAINT "FK_PaymentHistories_CustomerPaymentMethods_CustomerPaymentMeth~" FOREIGN KEY ("CustomerPaymentMethodId") REFERENCES "CustomerPaymentMethods" ("Id");

ALTER TABLE "PaymentHistories" ADD CONSTRAINT "FK_PaymentHistories_CustomerUsers_CustomerUserId" FOREIGN KEY ("CustomerUserId") REFERENCES "CustomerUsers" ("Id") ON DELETE RESTRICT;

ALTER TABLE "PaymentHistories" ADD CONSTRAINT "FK_PaymentHistories_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE RESTRICT;

ALTER TABLE "PaymentHistories" ADD CONSTRAINT "FK_PaymentHistories_PaymentMethods_PaymentMethodId" FOREIGN KEY ("PaymentMethodId") REFERENCES "PaymentMethods" ("Id") ON DELETE RESTRICT;

ALTER TABLE "PaymentHistories" ADD CONSTRAINT "FK_PaymentHistories_Promotions_PromotionId" FOREIGN KEY ("PromotionId") REFERENCES "Promotions" ("Id") ON DELETE RESTRICT;

ALTER TABLE "PaymentHistories" ADD CONSTRAINT "FK_PaymentHistories_Wallets_WalletId" FOREIGN KEY ("WalletId") REFERENCES "Wallets" ("Id") ON DELETE SET NULL;

ALTER TABLE "ProductImages" ADD CONSTRAINT "FK_ProductImages_ProductItems_ProductItemId" FOREIGN KEY ("ProductItemId") REFERENCES "ProductItems" ("Id") ON DELETE CASCADE;

ALTER TABLE "Products" ADD CONSTRAINT "FK_Products_Stores_StoreId" FOREIGN KEY ("StoreId") REFERENCES "Stores" ("Id") ON DELETE RESTRICT;

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250715151009_Fix_Warning_DB', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "ProductReports" DROP CONSTRAINT "FK_ProductReports_AdministratorUsers_AdministratorUserId";

ALTER TABLE "UserReports" DROP CONSTRAINT "FK_UserReports_AdministratorUsers_AdministratorUserId";

DROP INDEX "IX_UserReports_AdministratorUserId";

DROP INDEX "IX_ProductReports_AdministratorUserId";

DELETE FROM "AdministratorUsers"
WHERE "Id" = '9878ee32-2ead-4165-9e44-e510ba1bae29';

DELETE FROM "AspNetUsers"
WHERE "Id" = '9878ee32-2ead-4165-9e44-e510ba1bae29';

ALTER TABLE "Wallets" DROP COLUMN "CreatedById";

ALTER TABLE "Wallets" DROP COLUMN "CreationDate";

ALTER TABLE "Wallets" DROP COLUMN "DeleteById";

ALTER TABLE "Wallets" DROP COLUMN "DeletionDate";

ALTER TABLE "Wallets" DROP COLUMN "IsDeleted";

ALTER TABLE "Wallets" DROP COLUMN "IsHardDelete";

ALTER TABLE "Wallets" DROP COLUMN "ModificationById";

ALTER TABLE "Wallets" DROP COLUMN "ModificationDate";

ALTER TABLE "UserReports" DROP COLUMN "AdministratorUserId";

ALTER TABLE "UserReports" DROP COLUMN "CreatedById";

ALTER TABLE "UserReports" DROP COLUMN "CreationDate";

ALTER TABLE "UserReports" DROP COLUMN "DeleteById";

ALTER TABLE "UserReports" DROP COLUMN "DeletionDate";

ALTER TABLE "UserReports" DROP COLUMN "Description";

ALTER TABLE "UserReports" DROP COLUMN "FilePath";

ALTER TABLE "UserReports" DROP COLUMN "IsDeleted";

ALTER TABLE "UserReports" DROP COLUMN "IsHardDelete";

ALTER TABLE "UserReports" DROP COLUMN "ModificationById";

ALTER TABLE "UserReports" DROP COLUMN "ModificationDate";

ALTER TABLE "UserReports" DROP COLUMN "Title";

ALTER TABLE "UserPromotions" DROP COLUMN "CreatedById";

ALTER TABLE "UserPromotions" DROP COLUMN "CreationDate";

ALTER TABLE "UserPromotions" DROP COLUMN "DeleteById";

ALTER TABLE "UserPromotions" DROP COLUMN "DeletionDate";

ALTER TABLE "UserPromotions" DROP COLUMN "IsDeleted";

ALTER TABLE "UserPromotions" DROP COLUMN "IsHardDelete";

ALTER TABLE "UserPromotions" DROP COLUMN "ModificationById";

ALTER TABLE "UserPromotions" DROP COLUMN "ModificationDate";

ALTER TABLE "Stores" DROP COLUMN "CreatedById";

ALTER TABLE "Stores" DROP COLUMN "CreationDate";

ALTER TABLE "Stores" DROP COLUMN "DeleteById";

ALTER TABLE "Stores" DROP COLUMN "DeletionDate";

ALTER TABLE "Stores" DROP COLUMN "IsDeleted";

ALTER TABLE "Stores" DROP COLUMN "IsHardDelete";

ALTER TABLE "Stores" DROP COLUMN "ModificationById";

ALTER TABLE "Stores" DROP COLUMN "ModificationDate";

ALTER TABLE "StoreAddresses" DROP COLUMN "CreatedById";

ALTER TABLE "StoreAddresses" DROP COLUMN "CreationDate";

ALTER TABLE "StoreAddresses" DROP COLUMN "DeleteById";

ALTER TABLE "StoreAddresses" DROP COLUMN "DeletionDate";

ALTER TABLE "StoreAddresses" DROP COLUMN "IsDeleted";

ALTER TABLE "StoreAddresses" DROP COLUMN "IsHardDelete";

ALTER TABLE "StoreAddresses" DROP COLUMN "ModificationById";

ALTER TABLE "StoreAddresses" DROP COLUMN "ModificationDate";

ALTER TABLE "Stocks" DROP COLUMN "CreatedById";

ALTER TABLE "Stocks" DROP COLUMN "CreationDate";

ALTER TABLE "Stocks" DROP COLUMN "DeleteById";

ALTER TABLE "Stocks" DROP COLUMN "DeletionDate";

ALTER TABLE "Stocks" DROP COLUMN "IsDeleted";

ALTER TABLE "Stocks" DROP COLUMN "IsHardDelete";

ALTER TABLE "Stocks" DROP COLUMN "ModificationById";

ALTER TABLE "Stocks" DROP COLUMN "ModificationDate";

ALTER TABLE "StockHistories" DROP COLUMN "CreatedById";

ALTER TABLE "StockHistories" DROP COLUMN "CreationDate";

ALTER TABLE "StockHistories" DROP COLUMN "DeleteById";

ALTER TABLE "StockHistories" DROP COLUMN "DeletionDate";

ALTER TABLE "StockHistories" DROP COLUMN "IsDeleted";

ALTER TABLE "StockHistories" DROP COLUMN "IsHardDelete";

ALTER TABLE "StockHistories" DROP COLUMN "ModificationById";

ALTER TABLE "StockHistories" DROP COLUMN "ModificationDate";

ALTER TABLE "Reports" DROP COLUMN "CreatedById";

ALTER TABLE "Reports" DROP COLUMN "CreationDate";

ALTER TABLE "Reports" DROP COLUMN "DeleteById";

ALTER TABLE "Reports" DROP COLUMN "DeletionDate";

ALTER TABLE "Reports" DROP COLUMN "IsDeleted";

ALTER TABLE "Reports" DROP COLUMN "IsHardDelete";

ALTER TABLE "Reports" DROP COLUMN "ModificationById";

ALTER TABLE "Reports" DROP COLUMN "ModificationDate";

ALTER TABLE "Promotions" DROP COLUMN "CreatedById";

ALTER TABLE "Promotions" DROP COLUMN "CreationDate";

ALTER TABLE "Promotions" DROP COLUMN "DeleteById";

ALTER TABLE "Promotions" DROP COLUMN "DeletionDate";

ALTER TABLE "Promotions" DROP COLUMN "IsDeleted";

ALTER TABLE "Promotions" DROP COLUMN "IsHardDelete";

ALTER TABLE "Promotions" DROP COLUMN "ModificationById";

ALTER TABLE "Promotions" DROP COLUMN "ModificationDate";

ALTER TABLE "ProductVariants" DROP COLUMN "CreatedById";

ALTER TABLE "ProductVariants" DROP COLUMN "CreationDate";

ALTER TABLE "ProductVariants" DROP COLUMN "DeleteById";

ALTER TABLE "ProductVariants" DROP COLUMN "DeletionDate";

ALTER TABLE "ProductVariants" DROP COLUMN "IsDeleted";

ALTER TABLE "ProductVariants" DROP COLUMN "IsHardDelete";

ALTER TABLE "ProductVariants" DROP COLUMN "ModificationById";

ALTER TABLE "ProductVariants" DROP COLUMN "ModificationDate";

ALTER TABLE "Products" DROP COLUMN "CreatedById";

ALTER TABLE "Products" DROP COLUMN "CreationDate";

ALTER TABLE "Products" DROP COLUMN "DeleteById";

ALTER TABLE "Products" DROP COLUMN "DeletionDate";

ALTER TABLE "Products" DROP COLUMN "IsDeleted";

ALTER TABLE "Products" DROP COLUMN "IsHardDelete";

ALTER TABLE "Products" DROP COLUMN "ModificationById";

ALTER TABLE "Products" DROP COLUMN "ModificationDate";

ALTER TABLE "ProductReviews" DROP COLUMN "CreatedById";

ALTER TABLE "ProductReviews" DROP COLUMN "CreationDate";

ALTER TABLE "ProductReviews" DROP COLUMN "DeleteById";

ALTER TABLE "ProductReviews" DROP COLUMN "DeletionDate";

ALTER TABLE "ProductReviews" DROP COLUMN "IsDeleted";

ALTER TABLE "ProductReviews" DROP COLUMN "IsHardDelete";

ALTER TABLE "ProductReviews" DROP COLUMN "ModificationById";

ALTER TABLE "ProductReviews" DROP COLUMN "ModificationDate";

ALTER TABLE "ProductReports" DROP COLUMN "AdministratorUserId";

ALTER TABLE "ProductReports" DROP COLUMN "CreatedById";

ALTER TABLE "ProductReports" DROP COLUMN "CreationDate";

ALTER TABLE "ProductReports" DROP COLUMN "DeleteById";

ALTER TABLE "ProductReports" DROP COLUMN "DeletionDate";

ALTER TABLE "ProductReports" DROP COLUMN "Description";

ALTER TABLE "ProductReports" DROP COLUMN "FilePath";

ALTER TABLE "ProductReports" DROP COLUMN "IsDeleted";

ALTER TABLE "ProductReports" DROP COLUMN "IsHardDelete";

ALTER TABLE "ProductReports" DROP COLUMN "ModificationById";

ALTER TABLE "ProductReports" DROP COLUMN "ModificationDate";

ALTER TABLE "ProductReports" DROP COLUMN "Title";

ALTER TABLE "ProductItems" DROP COLUMN "CreatedById";

ALTER TABLE "ProductItems" DROP COLUMN "CreationDate";

ALTER TABLE "ProductItems" DROP COLUMN "DeleteById";

ALTER TABLE "ProductItems" DROP COLUMN "DeletionDate";

ALTER TABLE "ProductItems" DROP COLUMN "IsDeleted";

ALTER TABLE "ProductItems" DROP COLUMN "IsHardDelete";

ALTER TABLE "ProductItems" DROP COLUMN "ModificationById";

ALTER TABLE "ProductItems" DROP COLUMN "ModificationDate";

ALTER TABLE "ProductImages" DROP COLUMN "CreatedById";

ALTER TABLE "ProductImages" DROP COLUMN "CreationDate";

ALTER TABLE "ProductImages" DROP COLUMN "DeleteById";

ALTER TABLE "ProductImages" DROP COLUMN "DeletionDate";

ALTER TABLE "ProductImages" DROP COLUMN "IsDeleted";

ALTER TABLE "ProductImages" DROP COLUMN "IsHardDelete";

ALTER TABLE "ProductImages" DROP COLUMN "ModificationById";

ALTER TABLE "ProductImages" DROP COLUMN "ModificationDate";

ALTER TABLE "PaymentMethods" DROP COLUMN "CreatedById";

ALTER TABLE "PaymentMethods" DROP COLUMN "CreationDate";

ALTER TABLE "PaymentMethods" DROP COLUMN "DeleteById";

ALTER TABLE "PaymentMethods" DROP COLUMN "DeletionDate";

ALTER TABLE "PaymentMethods" DROP COLUMN "IsDeleted";

ALTER TABLE "PaymentMethods" DROP COLUMN "IsHardDelete";

ALTER TABLE "PaymentMethods" DROP COLUMN "ModificationById";

ALTER TABLE "PaymentMethods" DROP COLUMN "ModificationDate";

ALTER TABLE "PaymentHistories" DROP COLUMN "CreatedById";

ALTER TABLE "PaymentHistories" DROP COLUMN "CreationDate";

ALTER TABLE "PaymentHistories" DROP COLUMN "DeleteById";

ALTER TABLE "PaymentHistories" DROP COLUMN "DeletionDate";

ALTER TABLE "PaymentHistories" DROP COLUMN "IsDeleted";

ALTER TABLE "PaymentHistories" DROP COLUMN "IsHardDelete";

ALTER TABLE "PaymentHistories" DROP COLUMN "ModificationById";

ALTER TABLE "PaymentHistories" DROP COLUMN "ModificationDate";

ALTER TABLE "OTPData" DROP COLUMN "CreatedById";

ALTER TABLE "OTPData" DROP COLUMN "CreationDate";

ALTER TABLE "OTPData" DROP COLUMN "DeleteById";

ALTER TABLE "OTPData" DROP COLUMN "DeletionDate";

ALTER TABLE "OTPData" DROP COLUMN "IsDeleted";

ALTER TABLE "OTPData" DROP COLUMN "IsHardDelete";

ALTER TABLE "OTPData" DROP COLUMN "ModificationById";

ALTER TABLE "OTPData" DROP COLUMN "ModificationDate";

ALTER TABLE "OrderStatuses" DROP COLUMN "CreatedById";

ALTER TABLE "OrderStatuses" DROP COLUMN "CreationDate";

ALTER TABLE "OrderStatuses" DROP COLUMN "DeleteById";

ALTER TABLE "OrderStatuses" DROP COLUMN "DeletionDate";

ALTER TABLE "OrderStatuses" DROP COLUMN "IsDeleted";

ALTER TABLE "OrderStatuses" DROP COLUMN "IsHardDelete";

ALTER TABLE "OrderStatuses" DROP COLUMN "ModificationById";

ALTER TABLE "OrderStatuses" DROP COLUMN "ModificationDate";

ALTER TABLE "Orders" DROP COLUMN "CreatedById";

ALTER TABLE "Orders" DROP COLUMN "CreationDate";

ALTER TABLE "Orders" DROP COLUMN "DeleteById";

ALTER TABLE "Orders" DROP COLUMN "DeletionDate";

ALTER TABLE "Orders" DROP COLUMN "IsDeleted";

ALTER TABLE "Orders" DROP COLUMN "IsHardDelete";

ALTER TABLE "Orders" DROP COLUMN "ModificationById";

ALTER TABLE "Orders" DROP COLUMN "ModificationDate";

ALTER TABLE "OrderDetails" DROP COLUMN "CreatedById";

ALTER TABLE "OrderDetails" DROP COLUMN "CreationDate";

ALTER TABLE "OrderDetails" DROP COLUMN "DeleteById";

ALTER TABLE "OrderDetails" DROP COLUMN "DeletionDate";

ALTER TABLE "OrderDetails" DROP COLUMN "IsDeleted";

ALTER TABLE "OrderDetails" DROP COLUMN "IsHardDelete";

ALTER TABLE "OrderDetails" DROP COLUMN "ModificationById";

ALTER TABLE "OrderDetails" DROP COLUMN "ModificationDate";

ALTER TABLE "Messages" DROP COLUMN "CreatedById";

ALTER TABLE "Messages" DROP COLUMN "CreationDate";

ALTER TABLE "Messages" DROP COLUMN "DeleteById";

ALTER TABLE "Messages" DROP COLUMN "DeletionDate";

ALTER TABLE "Messages" DROP COLUMN "IsDeleted";

ALTER TABLE "Messages" DROP COLUMN "IsHardDelete";

ALTER TABLE "Messages" DROP COLUMN "ModificationById";

ALTER TABLE "Messages" DROP COLUMN "ModificationDate";

ALTER TABLE "CustomerRanks" DROP COLUMN "CreatedById";

ALTER TABLE "CustomerRanks" DROP COLUMN "CreationDate";

ALTER TABLE "CustomerRanks" DROP COLUMN "DeleteById";

ALTER TABLE "CustomerRanks" DROP COLUMN "DeletionDate";

ALTER TABLE "CustomerRanks" DROP COLUMN "IsDeleted";

ALTER TABLE "CustomerRanks" DROP COLUMN "IsHardDelete";

ALTER TABLE "CustomerRanks" DROP COLUMN "ModificationById";

ALTER TABLE "CustomerRanks" DROP COLUMN "ModificationDate";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "CreatedById";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "CreationDate";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "DeleteById";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "DeletionDate";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "IsDeleted";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "IsHardDelete";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "ModificationById";

ALTER TABLE "CustomerPaymentMethods" DROP COLUMN "ModificationDate";

ALTER TABLE "CustomerAddresses" DROP COLUMN "CreatedById";

ALTER TABLE "CustomerAddresses" DROP COLUMN "CreationDate";

ALTER TABLE "CustomerAddresses" DROP COLUMN "DeleteById";

ALTER TABLE "CustomerAddresses" DROP COLUMN "DeletionDate";

ALTER TABLE "CustomerAddresses" DROP COLUMN "IsDeleted";

ALTER TABLE "CustomerAddresses" DROP COLUMN "IsHardDelete";

ALTER TABLE "CustomerAddresses" DROP COLUMN "ModificationById";

ALTER TABLE "CustomerAddresses" DROP COLUMN "ModificationDate";

ALTER TABLE "Conversations" DROP COLUMN "CreatedById";

ALTER TABLE "Conversations" DROP COLUMN "CreationDate";

ALTER TABLE "Conversations" DROP COLUMN "DeleteById";

ALTER TABLE "Conversations" DROP COLUMN "DeletionDate";

ALTER TABLE "Conversations" DROP COLUMN "IsDeleted";

ALTER TABLE "Conversations" DROP COLUMN "IsHardDelete";

ALTER TABLE "Conversations" DROP COLUMN "ModificationById";

ALTER TABLE "Conversations" DROP COLUMN "ModificationDate";

ALTER TABLE "ConversationMembers" DROP COLUMN "CreatedById";

ALTER TABLE "ConversationMembers" DROP COLUMN "CreationDate";

ALTER TABLE "ConversationMembers" DROP COLUMN "DeleteById";

ALTER TABLE "ConversationMembers" DROP COLUMN "DeletionDate";

ALTER TABLE "ConversationMembers" DROP COLUMN "IsDeleted";

ALTER TABLE "ConversationMembers" DROP COLUMN "IsHardDelete";

ALTER TABLE "ConversationMembers" DROP COLUMN "ModificationById";

ALTER TABLE "ConversationMembers" DROP COLUMN "ModificationDate";

ALTER TABLE "Consultations" DROP COLUMN "CreatedById";

ALTER TABLE "Consultations" DROP COLUMN "CreationDate";

ALTER TABLE "Consultations" DROP COLUMN "DeleteById";

ALTER TABLE "Consultations" DROP COLUMN "DeletionDate";

ALTER TABLE "Consultations" DROP COLUMN "IsDeleted";

ALTER TABLE "Consultations" DROP COLUMN "IsHardDelete";

ALTER TABLE "Consultations" DROP COLUMN "ModificationById";

ALTER TABLE "Consultations" DROP COLUMN "ModificationDate";

ALTER TABLE "Categories" DROP COLUMN "CreatedById";

ALTER TABLE "Categories" DROP COLUMN "CreationDate";

ALTER TABLE "Categories" DROP COLUMN "DeleteById";

ALTER TABLE "Categories" DROP COLUMN "DeletionDate";

ALTER TABLE "Categories" DROP COLUMN "IsDeleted";

ALTER TABLE "Categories" DROP COLUMN "IsHardDelete";

ALTER TABLE "Categories" DROP COLUMN "ModificationById";

ALTER TABLE "Categories" DROP COLUMN "ModificationDate";

ALTER TABLE "CartItem" DROP COLUMN "CreatedById";

ALTER TABLE "CartItem" DROP COLUMN "CreationDate";

ALTER TABLE "CartItem" DROP COLUMN "DeleteById";

ALTER TABLE "CartItem" DROP COLUMN "DeletionDate";

ALTER TABLE "CartItem" DROP COLUMN "IsDeleted";

ALTER TABLE "CartItem" DROP COLUMN "IsHardDelete";

ALTER TABLE "CartItem" DROP COLUMN "ModificationById";

ALTER TABLE "CartItem" DROP COLUMN "ModificationDate";

ALTER TABLE "Cart" DROP COLUMN "CreatedById";

ALTER TABLE "Cart" DROP COLUMN "CreationDate";

ALTER TABLE "Cart" DROP COLUMN "DeleteById";

ALTER TABLE "Cart" DROP COLUMN "DeletionDate";

ALTER TABLE "Cart" DROP COLUMN "IsDeleted";

ALTER TABLE "Cart" DROP COLUMN "IsHardDelete";

ALTER TABLE "Cart" DROP COLUMN "ModificationById";

ALTER TABLE "Cart" DROP COLUMN "ModificationDate";

ALTER TABLE "Addresses" DROP COLUMN "CreatedById";

ALTER TABLE "Addresses" DROP COLUMN "CreationDate";

ALTER TABLE "Addresses" DROP COLUMN "DeleteById";

ALTER TABLE "Addresses" DROP COLUMN "DeletionDate";

ALTER TABLE "Addresses" DROP COLUMN "IsDeleted";

ALTER TABLE "Addresses" DROP COLUMN "IsHardDelete";

ALTER TABLE "Addresses" DROP COLUMN "ModificationById";

ALTER TABLE "Addresses" DROP COLUMN "ModificationDate";

CREATE TABLE "BaseEntity" (
    "Id" uuid NOT NULL,
    "CreationDate" timestamp with time zone,
    "CreatedById" uuid,
    "ModificationDate" timestamp with time zone,
    "ModificationById" uuid,
    "DeletionDate" timestamp with time zone,
    "DeleteById" uuid,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "IsHardDelete" boolean NOT NULL DEFAULT FALSE,
    CONSTRAINT "PK_BaseEntity" PRIMARY KEY ("Id")
);

INSERT INTO "BaseEntity" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate")
VALUES ('11111111-1111-1111-1111-111111111161', NULL, TIMESTAMPTZ '2025-07-15T13:05:19.009777Z', NULL, NULL, NULL, NULL);
INSERT INTO "BaseEntity" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate")
VALUES ('11111111-1111-1111-1111-111111111162', NULL, TIMESTAMPTZ '2025-07-15T13:05:19.009777Z', NULL, NULL, NULL, NULL);
INSERT INTO "BaseEntity" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate")
VALUES ('22222222-2222-2222-2222-222222222242', NULL, TIMESTAMPTZ '2025-07-15T13:05:19.009778Z', NULL, NULL, NULL, NULL);
INSERT INTO "BaseEntity" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate")
VALUES ('22222222-2222-2222-2222-222222222243', NULL, TIMESTAMPTZ '2025-07-15T13:05:19.009778Z', NULL, NULL, NULL, NULL);
INSERT INTO "BaseEntity" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate")
VALUES ('33333333-3333-3333-3333-333333333353', NULL, TIMESTAMPTZ '2025-07-15T13:05:19.009778Z', NULL, NULL, NULL, NULL);
INSERT INTO "BaseEntity" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate")
VALUES ('33333333-3333-3333-3333-333333333354', NULL, TIMESTAMPTZ '2025-07-15T13:05:19.009778Z', NULL, NULL, NULL, NULL);
INSERT INTO "BaseEntity" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate")
VALUES ('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', NULL, TIMESTAMPTZ '2024-01-01T00:00:00Z', NULL, NULL, NULL, NULL);
INSERT INTO "BaseEntity" ("Id", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "ModificationById", "ModificationDate")
VALUES ('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab', NULL, TIMESTAMPTZ '2024-01-01T00:00:00Z', NULL, NULL, NULL, NULL);

ALTER TABLE "Addresses" ADD CONSTRAINT "FK_Addresses_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Cart" ADD CONSTRAINT "FK_Cart_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "CartItem" ADD CONSTRAINT "FK_CartItem_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Categories" ADD CONSTRAINT "FK_Categories_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Consultations" ADD CONSTRAINT "FK_Consultations_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "ConversationMembers" ADD CONSTRAINT "FK_ConversationMembers_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Conversations" ADD CONSTRAINT "FK_Conversations_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "CustomerAddresses" ADD CONSTRAINT "FK_CustomerAddresses_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "CustomerPaymentMethods" ADD CONSTRAINT "FK_CustomerPaymentMethods_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "CustomerRanks" ADD CONSTRAINT "FK_CustomerRanks_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Messages" ADD CONSTRAINT "FK_Messages_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "OrderDetails" ADD CONSTRAINT "FK_OrderDetails_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "OrderStatuses" ADD CONSTRAINT "FK_OrderStatuses_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "OTPData" ADD CONSTRAINT "FK_OTPData_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "PaymentHistories" ADD CONSTRAINT "FK_PaymentHistories_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "PaymentMethods" ADD CONSTRAINT "FK_PaymentMethods_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "ProductImages" ADD CONSTRAINT "FK_ProductImages_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "ProductItems" ADD CONSTRAINT "FK_ProductItems_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "ProductReports" ADD CONSTRAINT "FK_ProductReports_Reports_Id" FOREIGN KEY ("Id") REFERENCES "Reports" ("Id") ON DELETE CASCADE;

ALTER TABLE "ProductReviews" ADD CONSTRAINT "FK_ProductReviews_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Products" ADD CONSTRAINT "FK_Products_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "ProductVariants" ADD CONSTRAINT "FK_ProductVariants_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Promotions" ADD CONSTRAINT "FK_Promotions_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Reports" ADD CONSTRAINT "FK_Reports_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "StockHistories" ADD CONSTRAINT "FK_StockHistories_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Stocks" ADD CONSTRAINT "FK_Stocks_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "StoreAddresses" ADD CONSTRAINT "FK_StoreAddresses_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "Stores" ADD CONSTRAINT "FK_Stores_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "UserPromotions" ADD CONSTRAINT "FK_UserPromotions_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

ALTER TABLE "UserReports" ADD CONSTRAINT "FK_UserReports_Reports_Id" FOREIGN KEY ("Id") REFERENCES "Reports" ("Id") ON DELETE CASCADE;

ALTER TABLE "Wallets" ADD CONSTRAINT "FK_Wallets_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE;

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250715154414_TPT', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_CustomerUsers_PaymentStatus_CustomerUserId";

DROP INDEX "IX_Orders_PaymentStatus_CustomerUserId";

ALTER TABLE "Orders" DROP COLUMN "PaymentStatus_Amount";

ALTER TABLE "Orders" DROP COLUMN "PaymentStatus_CustomerUserId";

ALTER TABLE "Orders" DROP COLUMN "PaymentStatus_PayedById";

ALTER TABLE "Orders" DROP COLUMN "PaymentStatus_PaymentDate";

ALTER TABLE "Orders" DROP COLUMN "PaymentStatus_PaymentMethod";

ALTER TABLE "Orders" DROP COLUMN "PaymentStatus_PaymentStatus";

ALTER TABLE "Orders" DROP COLUMN "ShippingStatus_ShipSource";

ALTER TABLE "Orders" DROP COLUMN "ShippingStatus_Status";

ALTER TABLE "Orders" DROP COLUMN "ShippingStatus_TrackingCode";

ALTER TABLE "Orders" DROP COLUMN "ShippingStatus_TrackingMessage";

ALTER TABLE "Orders" DROP COLUMN "ShippingStatus_TrackingTime";

ALTER TABLE "Orders" DROP COLUMN "ShippingStatus_TrackingUrl";

CREATE TABLE "OrderPaymentStatus" (
    "Id" uuid NOT NULL,
    "Amount" numeric NOT NULL,
    "PaymentDate" timestamp with time zone NOT NULL,
    "PaymentMethod" text NOT NULL,
    "PaymentStatus" text NOT NULL,
    "PayedById" uuid,
    "CustomerUserId" uuid,
    CONSTRAINT "PK_OrderPaymentStatus" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_OrderPaymentStatus_CustomerUsers_CustomerUserId" FOREIGN KEY ("CustomerUserId") REFERENCES "CustomerUsers" ("Id"),
    CONSTRAINT "FK_OrderPaymentStatus_Orders_Id" FOREIGN KEY ("Id") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);

CREATE TABLE "OrderShippingStatus" (
    "Id" uuid NOT NULL,
    "Status" integer,
    "TrackingCode" text,
    "TrackingUrl" text,
    "TrackingMessage" text,
    "ShipSource" text,
    "TrackingTime" timestamp with time zone,
    CONSTRAINT "PK_OrderShippingStatus" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_OrderShippingStatus_Orders_Id" FOREIGN KEY ("Id") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);

CREATE INDEX "IX_OrderPaymentStatus_CustomerUserId" ON "OrderPaymentStatus" ("CustomerUserId");

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250715160015_Refactor_Order', '8.0.15');

COMMIT;

START TRANSACTION;

UPDATE "AspNetRoles" SET "Name" = 'Người giám hộ', "NormalizedName" = 'GUARDIAN'
WHERE "Id" = '0c09b112-baf9-4ec3-bc79-cce452219d60';

UPDATE "AspNetRoles" SET "Name" = 'Quản trị viên', "NormalizedName" = 'ADMIN'
WHERE "Id" = '0e61cc83-d3c4-43b1-9334-8dd0c9d22833';

UPDATE "AspNetRoles" SET "Name" = 'Siêu quản trị viên', "NormalizedName" = 'SUPERADMIN'
WHERE "Id" = '5c2cb3f3-d9b1-4d5f-8a9c-1e6f689ee0f4';

UPDATE "AspNetRoles" SET "Name" = 'Chủ cửa hàng', "NormalizedName" = 'STOREOWNER'
WHERE "Id" = '60cb3e42-0903-4c3f-8e9c-bfdc6f6a1a01';

UPDATE "AspNetRoles" SET "Name" = 'Hỗ trợ cửa hàng', "NormalizedName" = 'STORESUPPORT'
WHERE "Id" = 'a2a02247-2a41-4a38-8804-4be8038fa78b';

UPDATE "AspNetRoles" SET "Name" = 'Người phụ thuộc', "NormalizedName" = 'DEPENDENTUSER'
WHERE "Id" = 'c66a403b-e1f9-47f3-9f6b-d8c3913b7a1b';

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250724173039_FixRoles', '8.0.15');

COMMIT;

START TRANSACTION;

UPDATE "AspNetRoles" SET "Name" = 'Guardian'
WHERE "Id" = '0c09b112-baf9-4ec3-bc79-cce452219d60';

UPDATE "AspNetRoles" SET "Name" = 'Admin'
WHERE "Id" = '0e61cc83-d3c4-43b1-9334-8dd0c9d22833';

UPDATE "AspNetRoles" SET "Name" = 'SuperAdmin'
WHERE "Id" = '5c2cb3f3-d9b1-4d5f-8a9c-1e6f689ee0f4';

UPDATE "AspNetRoles" SET "Name" = 'StoreOwner'
WHERE "Id" = '60cb3e42-0903-4c3f-8e9c-bfdc6f6a1a01';

UPDATE "AspNetRoles" SET "Name" = 'StoreSupport'
WHERE "Id" = 'a2a02247-2a41-4a38-8804-4be8038fa78b';

UPDATE "AspNetRoles" SET "Name" = 'DependentUser'
WHERE "Id" = 'c66a403b-e1f9-47f3-9f6b-d8c3913b7a1b';

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250726141256_Fix_role2', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "Addresses" DROP CONSTRAINT "FK_Addresses_AdministratorUsers_AdministratorUserId";

ALTER TABLE "Addresses" DROP CONSTRAINT "FK_Addresses_ConsultantUsers_ConsultantUserId";

ALTER TABLE "Addresses" DROP CONSTRAINT "FK_Addresses_CustomerUsers_CustomerId";

ALTER TABLE "Addresses" DROP CONSTRAINT "FK_Addresses_DependentUsers_DependentUserId";

ALTER TABLE "Addresses" DROP CONSTRAINT "FK_Addresses_GuardianUsers_GuardianUserId";

ALTER TABLE "Addresses" DROP CONSTRAINT "FK_Addresses_StoreUsers_StoreUserId";

DROP INDEX "IX_Stores_StoreAddressId";

DROP INDEX "IX_Addresses_AdministratorUserId";

DROP INDEX "IX_Addresses_ConsultantUserId";

DROP INDEX "IX_Addresses_CustomerId";

DROP INDEX "IX_Addresses_DependentUserId";

DROP INDEX "IX_Addresses_GuardianUserId";

ALTER TABLE "StoreAddresses" DROP COLUMN "Address";

ALTER TABLE "Orders" DROP COLUMN "OrderGhnCode";

ALTER TABLE "Addresses" DROP COLUMN "AdministratorUserId";

ALTER TABLE "Addresses" DROP COLUMN "ConsultantUserId";

ALTER TABLE "Addresses" DROP COLUMN "CustomerId";

ALTER TABLE "Addresses" DROP COLUMN "DependentUserId";

ALTER TABLE "Addresses" DROP COLUMN "GuardianUserId";

ALTER TABLE "Orders" RENAME COLUMN "Address" TO "ToAddress";

ALTER TABLE "Addresses" RENAME COLUMN "ToProvinceName" TO "WardName";

ALTER TABLE "Addresses" RENAME COLUMN "ToDistrictName" TO "ProvinceName";

ALTER TABLE "Addresses" RENAME COLUMN "StoreUserId" TO "BaseUserId";

ALTER INDEX "IX_Addresses_StoreUserId" RENAME TO "IX_Addresses_BaseUserId";

ALTER TABLE "StoreAddresses" ALTER COLUMN "WardCode" TYPE text;

ALTER TABLE "StoreAddresses" ADD "ProvinceId" integer NOT NULL DEFAULT 0;

ALTER TABLE "StoreAddresses" ADD "StoreId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';

ALTER TABLE "StoreAddresses" ADD "StreetAddress" text NOT NULL DEFAULT '';

ALTER TABLE "ProductReports" ADD "ProductItemId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';

ALTER TABLE "ProductItems" ADD "ProductName" text NOT NULL DEFAULT '';

ALTER TABLE "ProductItems" ADD "Value" text NOT NULL DEFAULT '';

ALTER TABLE "Orders" ADD "ConfirmUserId" uuid;

ALTER TABLE "Orders" ADD "FromAddress" text NOT NULL DEFAULT '';

ALTER TABLE "Orders" ADD "OrderCode" text NOT NULL DEFAULT '';

ALTER TABLE "Orders" ADD "OrderedUserId" uuid;

ALTER TABLE "Orders" ADD "RecieveUserId" uuid;

ALTER TABLE "Addresses" ADD "DistrictName" text NOT NULL DEFAULT '';

ALTER TABLE "Addresses" ADD "ProvinceId" integer NOT NULL DEFAULT 0;

UPDATE "StoreAddresses" SET "DistrictId" = 1451, "DistrictName" = 'Quận 9', "ProvinceId" = 202, "ProvinceName" = 'Hồ Chí Minh', "StoreId" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab', "StreetAddress" = '123 Lê Văn Việt', "WardCode" = '20901', "WardName" = 'Phường Hiệp Phú'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa';

UPDATE "Stores" SET "AvatarPath" = '/images/stores/store.jpg', "GhnShopId" = 197185, "Phone" = '02812345678'
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab';

CREATE UNIQUE INDEX "IX_Stores_StoreAddressId" ON "Stores" ("StoreAddressId");

CREATE INDEX "IX_ProductReports_ProductItemId" ON "ProductReports" ("ProductItemId");

CREATE INDEX "IX_Orders_ConfirmUserId" ON "Orders" ("ConfirmUserId");

CREATE INDEX "IX_Orders_OrderedUserId" ON "Orders" ("OrderedUserId");

CREATE INDEX "IX_Orders_RecieveUserId" ON "Orders" ("RecieveUserId");

ALTER TABLE "Addresses" ADD CONSTRAINT "FK_Addresses_AspNetUsers_BaseUserId" FOREIGN KEY ("BaseUserId") REFERENCES "AspNetUsers" ("Id");

ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_AspNetUsers_OrderedUserId" FOREIGN KEY ("OrderedUserId") REFERENCES "AspNetUsers" ("Id");

ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_AspNetUsers_RecieveUserId" FOREIGN KEY ("RecieveUserId") REFERENCES "AspNetUsers" ("Id");

ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_GuardianUsers_ConfirmUserId" FOREIGN KEY ("ConfirmUserId") REFERENCES "GuardianUsers" ("Id");

ALTER TABLE "ProductReports" ADD CONSTRAINT "FK_ProductReports_ProductItems_ProductItemId" FOREIGN KEY ("ProductItemId") REFERENCES "ProductItems" ("Id") ON DELETE CASCADE;

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250727172240_OrderingUpdate', '8.0.15');

COMMIT;

START TRANSACTION;

INSERT INTO "ConsultantRoles" ("Id", "Description", "RoleName")
VALUES ('0c09b112-baf9-4ec3-bc79-cce452219d61', 'Chuyên viên tư vấn là người tư vấn cho người cao tuổi và có quyền tư vấn cho người cao tuổi.', 'Consultant');

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250729154241_FixConsultant', '8.0.15');

COMMIT;

START TRANSACTION;

UPDATE "AspNetRoles" SET "Name" = 'ShopOwner', "NormalizedName" = 'SHOPOWNER'
WHERE "Id" = '60cb3e42-0903-4c3f-8e9c-bfdc6f6a1a01';

UPDATE "AspNetRoles" SET "Name" = 'Staff', "NormalizedName" = 'STAFF'
WHERE "Id" = 'a2a02247-2a41-4a38-8804-4be8038fa78b';

UPDATE "AspNetRoles" SET "Name" = 'Guardian'
WHERE "Id" = 'c66a403b-e1f9-47f3-9f6b-d8c3913b7a1b';

INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "CreatedById", "CreationDate", "DeleteById", "DeletionDate", "Description", "IsDeleted", "IsHardDelete", "ModificationById", "ModificationDate", "Name", "NormalizedName")
VALUES ('c66a403b-e1f9-47f3-9f6b-d8c3913b7a1c', NULL, NULL, NULL, NULL, NULL, 'Người khách là người khách và có quyền khách.', FALSE, FALSE, NULL, NULL, 'Customer', 'CUSTOMER');

INSERT INTO "CustomerRoles" ("Id")
VALUES ('c66a403b-e1f9-47f3-9f6b-d8c3913b7a1c');

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250729165720_FixCustomer', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "ProductItems" ADD "ProductId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';


                UPDATE "ProductItems" pi
                SET "ProductId" = pv."ProductId"
                FROM "ProductVariants" pv
                WHERE pi."VariantId" = pv."Id";
            

ALTER TABLE "ProductItems" DROP CONSTRAINT "FK_ProductItems_ProductVariants_VariantId";

DROP TABLE "ProductVariants";

ALTER TABLE "ProductItems" DROP COLUMN "VariantId";

UPDATE "AspNetRoles" SET "Name" = 'DependentUser'
WHERE "Id" = 'c66a403b-e1f9-47f3-9f6b-d8c3913b7a1b';

ALTER TABLE "ProductItems" ADD CONSTRAINT "FK_ProductItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE;

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250731004447_RemoveProductVariant', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "ProductImages" DROP CONSTRAINT "FK_ProductImages_Products_ProductId";

ALTER TABLE "ProductImages" ADD CONSTRAINT "FK_ProductImages_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE;

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250731010353_AddProductImageRelation', '8.0.15');

COMMIT;

START TRANSACTION;

ALTER TABLE "ProductItems" DROP COLUMN "SKU";

ALTER TABLE "ProductItems" ALTER COLUMN "ProductName" TYPE character varying(200);

UPDATE "Stores" SET "GhnShopId" = 5732305
WHERE "Id" = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaab';

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250731151519_RemoveSkuFromProductItem', '8.0.15');

COMMIT;

START TRANSACTION;

DROP TABLE "CartItem";

DROP TABLE "Cart";

ALTER TABLE "DependentUsers" ADD "AddressId" uuid;

ALTER TABLE "DependentUsers" ADD "DateOfBirth" timestamp with time zone;

ALTER TABLE "DependentUsers" ADD "MedicalNotes" text;

ALTER TABLE "DependentUsers" ADD "MonthlySpendingLimit" numeric;

ALTER TABLE "DependentUsers" ADD "Relationship" text NOT NULL DEFAULT '';

ALTER TABLE "DependentUsers" ADD "SuggestedCategoryIds" integer[];

ALTER TABLE "CustomerUsers" ADD "GuardianUserId" uuid;

ALTER TABLE "AspNetUsers" ADD "ImageUrl" text;

CREATE TABLE "Carts" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "ConsultantRecommendation" boolean NOT NULL DEFAULT FALSE,
    "TotalPrice" numeric(18,2) NOT NULL,
    "IsConsultantUserRecommend" boolean NOT NULL DEFAULT FALSE,
    "CustomerUserId" uuid,
    "GuardianUserId" uuid,
    CONSTRAINT "PK_Carts" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Carts_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Carts_CustomerUsers_CustomerUserId" FOREIGN KEY ("CustomerUserId") REFERENCES "CustomerUsers" ("Id"),
    CONSTRAINT "FK_Carts_GuardianUsers_GuardianUserId" FOREIGN KEY ("GuardianUserId") REFERENCES "GuardianUsers" ("Id")
);

CREATE TABLE "CartItems" (
    "Id" uuid NOT NULL,
    "Quantity" integer NOT NULL,
    "Price" numeric(18,2) NOT NULL,
    "TotalPrice" numeric(18,2) NOT NULL,
    "IsSelected" boolean NOT NULL DEFAULT TRUE,
    "CartId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "ProductItemId" uuid NOT NULL,
    "StoreId" uuid NOT NULL,
    CONSTRAINT "PK_CartItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CartItems_BaseEntity_Id" FOREIGN KEY ("Id") REFERENCES "BaseEntity" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItems_Carts_CartId" FOREIGN KEY ("CartId") REFERENCES "Carts" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItems_ProductItems_ProductItemId" FOREIGN KEY ("ProductItemId") REFERENCES "ProductItems" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_CartItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_CartItems_Stores_StoreId" FOREIGN KEY ("StoreId") REFERENCES "Stores" ("Id") ON DELETE RESTRICT
);

CREATE INDEX "IX_CustomerUsers_GuardianUserId" ON "CustomerUsers" ("GuardianUserId");

CREATE INDEX "IX_CartItems_CartId" ON "CartItems" ("CartId");

CREATE INDEX "IX_CartItems_ProductId" ON "CartItems" ("ProductId");

CREATE INDEX "IX_CartItems_ProductItemId" ON "CartItems" ("ProductItemId");

CREATE INDEX "IX_CartItems_StoreId" ON "CartItems" ("StoreId");

CREATE INDEX "IX_Carts_CustomerUserId" ON "Carts" ("CustomerUserId");

CREATE INDEX "IX_Carts_GuardianUserId" ON "Carts" ("GuardianUserId");

CREATE UNIQUE INDEX "IX_Carts_UserId" ON "Carts" ("UserId");

ALTER TABLE "CustomerUsers" ADD CONSTRAINT "FK_CustomerUsers_GuardianUsers_GuardianUserId" FOREIGN KEY ("GuardianUserId") REFERENCES "GuardianUsers" ("Id");

INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250731171656_AddCartAndCartItem', '8.0.15');

COMMIT;

