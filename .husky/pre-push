#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-push checks..."

# Kiá»ƒm tra náº¿u khÃ´ng cÃ³ thay Ä‘á»•i
if git diff --quiet HEAD; then
    echo "KhÃ´ng cÃ³ thay Ä‘á»•i. Bá» qua build."
else
    echo "CÃ³ thay Ä‘á»•i. Tiáº¿n hÃ nh build..."
    dotnet build
fi

# # Run tests
# echo "ğŸ§ª Running tests..."
# dotnet test
# if [ $? -ne 0 ]; then
#     echo "âŒ Tests failed. Please fix test failures before pushing."
#     exit 1
# fi

# Check code formatting
# echo "ğŸ¨ Checking code formatting..."
# dotnet format --verify-no-changes
# if [ $? -ne 0 ]; then
#     echo "âŒ Code formatting check failed. Please run 'dotnet format' to fix formatting issues."
#     exit 1
# fi

echo "âœ… All pre-push checks passed! Ready to push." 