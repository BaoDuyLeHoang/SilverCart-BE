#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# dotnet husky run --group pre-commit
echo "ğŸ” Cháº¡y lá»‡nh pre-commit..."

# Format code automatically
echo "ğŸ¨ Check Äá»‹nh dáº¡ng code..."
dotnet format --verify-no-changes
if [ $? -ne 0 ]; then
    echo "âŒ Äá»‹nh dáº¡ng code khÃ´ng Ä‘Ãºng. Vui lÃ²ng cháº¡y dotnet format Ä‘á»ƒ sá»­a lá»—i trÆ°á»›c khi commit."
    exit 1
fi
echo "ğŸ§¨ Clean dá»± Ã¡n..."
dotnet clean -v d

# Build the project
# echo "ğŸ“¦ Build dá»± Ã¡n..."
# dotnet build -v d
# if [ $? -ne 0 ]; then
#     echo "âŒ Build failed. Vui lÃ²ng sá»­a lá»—i trÆ°á»›c khi commit."
#     exit 1
# fi

echo "âœ… Pre-commit pass rá»“i nha!" 
